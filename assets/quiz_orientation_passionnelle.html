<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üåü Orientation Passionnelle - Triple Quiz SRG</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<style>
/* --- Styles unifi√©s des deux fichiers --- */
:root {
    --bg1: #0f172a;
    --bg2: #1e293b;
    --accent: #87CEFA; /* Chang√© d'indigo √† bleu ciel */
    --text: #e2e8f0;
    --glass: rgba(135, 206, 250, 0.1); /* Adapt√© au bleu ciel */
    --glass-dark: rgba(0, 0, 0, 0.2);
    --success: #34d399;
    --error: #ef4444;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
    font-family: 'Cormorant Garamond', serif;
    color: var(--text);
    background: var(--bg1);
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
}

#particles-js {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: -1;
}

header {
  background: var(--glass-dark);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(135, 206, 250, 0.05); /* Adapt√© au bleu ciel */
  padding: 30px 0;
  text-align: center;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 4px 30px rgba(0,0,0,0.2);
}

header h1 {
  color: var(--accent); /* Utilise la variable bleu ciel */
  font-size: 2.8rem;
  font-weight: 700;
  margin-bottom: 10px;
  text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
}

.subtitle {
  color: rgba(135, 206, 250, 0.7); /* Adapt√© au bleu ciel */
  font-size: 1.7rem;
  font-weight: 300;
}

nav {
  background: var(--glass);
  backdrop-filter: blur(15px);
  border-radius: 20px;
  margin: 20px auto;
  display: flex;
  width: fit-content;
  overflow: hidden;
  border: 1px solid var(--glass);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

nav button {
  padding: 15px 30px;
  border: none;
  background: transparent;
  color: rgba(135, 206, 250, 0.7); /* Adapt√© au bleu ciel */
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

nav button:last-child {
  border-right: none;
}

nav button:hover {
  color: var(--accent); /* Bleu ciel pur */
  transform: translateY(-2px);
  background: rgba(255, 255, 255, 0.1);
}

nav button.active {
  background: rgba(135, 206, 250, 0.15); /* Adapt√© au bleu ciel */
  color: var(--accent);
  transform: translateY(-2px);
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

section {
  display: none;
  padding: 40px 0;
  animation: fadeIn 0.6s ease-out;
}

.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.card, .question-card, .results-section {
  background: var(--glass);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 50px;
  text-align: center;
  border: 1px solid var(--glass-dark);
  margin-bottom: 30px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.card h2 {
  color: var(--accent); /* Bleu ciel */
  font-size: 3rem;
  margin-bottom: 20px;
  font-weight: 600;
}

.card p {
  color: rgba(135, 206, 250, 0.8); /* Adapt√© au bleu ciel */
  font-size: 1.1rem;
  margin-bottom: 30px;
  line-height: 1.6;
}

.user-selector, .quiz-selector {
  background: var(--glass-dark);
  border: 2px solid var(--glass);
  border-radius: 15px;
  padding: 15px 20px;
  font-size: 1.1rem;
  color: var(--text);
  width: 300px;
  margin: 10px auto;
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  appearance: none;
  background-image: url('data:image/svg+xml;utf8,<svg fill="white" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
  background-repeat: no-repeat;
  background-position: right 15px center;
}

.user-selector:focus, .quiz-selector:focus {
  outline: none;
  border-color: rgba(135, 206, 250, 0.5); /* Adapt√© au bleu ciel */
  transform: scale(1.05);
}

.user-selector option, .quiz-selector option {
  background: var(--bg2);
  color: var(--text);
}

#welcomeMessage {
  color: var(--accent);
  font-size: 1.2rem;
  font-weight: 500;
  margin-top: 20px;
  opacity: 0;
  transition: opacity 0.5s ease;
}

#welcomeMessage.show {
  opacity: 1;
}

/* Nouveau style pour le s√©lecteur de quiz */
#quizSelection {
    margin-top: 30px;
    padding: 20px;
    border-top: 1px solid var(--glass);
    display: none; /* Cach√© par d√©faut */
}

#quizSelection h3 {
    color: var(--accent);
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.quiz-choice-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.quiz-choice {
    padding: 15px 30px;
    border: 2px solid var(--glass);
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    background: var(--glass-dark);
    color: var(--text);
    font-size: 1.1rem;
    font-weight: 500;
    min-width: 200px;
    text-align: center;
}

.quiz-choice:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.1);
}

.quiz-choice.active-choice {
    background: rgba(135, 206, 250, 0.2); /* Adapt√© au bleu ciel */
    border-color: var(--accent);
    box-shadow: 0 0 15px rgba(135, 206, 250, 0.4); /* Adapt√© au bleu ciel */
}

.quiz-header {
  text-align: center;
  margin-bottom: 50px;
}

.quiz-header h2 {
  color: var(--text);
  font-size: 2.5rem;
  margin-bottom: 15px;
  font-weight: 700;
}

.quiz-header .progress-bar {
  background: var(--glass);
  height: 8px;
  border-radius: 10px;
  overflow: hidden;
  margin: 20px 0;
}

.quiz-header .progress {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #5D8AA8); /* D√©grad√© avec bleu ciel */
  width: 0%;
  transition: width 0.5s ease;
  border-radius: 10px;
}

.question-card {
  background: var(--glass);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 40px;
  margin-bottom: 30px;
  border: 1px solid var(--glass-dark);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.question-card h3 {
  color: var(--accent);
  font-size: 1.5rem;
  margin-bottom: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

.question-number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 35px;
  height: 35px;
  background: var(--accent);
  color: var(--bg1);
  border-radius: 50%;
  font-size: 0.9rem;
  margin-right: 15px;
  font-weight: 700;
}

.question-card p {
  color: rgba(255, 255, 255, 0.9);
  font-size: 1.1rem;
  line-height: 1.7;
  margin-bottom: 25px;
  text-align: justify;
}

.option {
  margin-bottom: 15px;
  position: relative;
}

.option label {
  display: flex;
  align-items: flex-start;
  cursor: pointer;
  padding: 15px 20px;
  background: var(--glass);
  border-radius: 15px;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  font-size: 1rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
}

.option label:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateX(10px);
}

.option input[type="radio"] {
  width: 20px;
  height: 20px;
  margin-right: 15px;
  margin-top: 2px;
  accent-color: var(--accent);
  flex-shrink: 0;
}

.option label:has(input:checked) {
  background: rgba(135, 206, 250, 0.2); /* Adapt√© au bleu ciel */
  border-color: var(--accent);
  transform: translateX(10px);
}

.actions {
  text-align: center;
  margin: 60px 0 40px;
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

.btn {
  padding: 18px 35px;
  border: none;
  border-radius: 50px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.btn-primary {
  background: var(--accent);
  color: var(--bg1);
  border: 2px solid var(--accent);
}

.btn-secondary {
  background: var(--glass-dark);
  color: var(--text);
  border: 2px solid var(--accent);
}

.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
}

#validationMessage {
    color: var(--error);
    margin-top: 10px;
    font-size: 1.1rem;
    font-weight: 600;
    display: none;
    animation: shake 0.5s;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.results-section {
  background: var(--glass);
  backdrop-filter: blur(20px);
  border-radius: 25px;
  padding: 50px;
  border: 1px solid var(--glass-dark);
  text-align: center;
}

.results-section h2 {
  color: var(--text);
  font-size: 2.5rem;
  margin-bottom: 30px;
  font-weight: 700;
}

.results-card {
  background: var(--glass);
  border-radius: 20px;
  padding: 40px;
  margin-top: 30px;
  border: 1px solid var(--glass-dark);
}

.results-card h3 {
  color: var(--accent);
  font-size: 1.8rem;
  margin-bottom: 25px;
  font-weight: 600;
}

.results-card p {
  color: rgba(135, 206, 250, 0.8); /* Adapt√© au bleu ciel */
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.results-list {
  list-style: none;
  text-align: left;
  max-width: 600px;
  margin: 0 auto;
}

.result-item {
  background: var(--glass-dark);
  border-radius: 15px;
  padding: 20px 25px;
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  transition: all 0.3s ease;
  border: 1px solid var(--glass);
  animation: slideInUp 0.6s ease forwards;
  opacity: 0;
  transform: translateY(30px);
}

.result-item:hover {
  background: var(--glass);
  transform: translateX(10px);
  border-color: rgba(255, 255, 255, 0.3);
}

@keyframes slideInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.item-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  margin-bottom: 10px;
}

.item-name {
  color: var(--text);
  font-size: 1.2rem;
  font-weight: 500;
}

.item-score {
  background: var(--accent);
  color: var(--bg1);
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: 600;
  font-size: 1rem;
}

.progress-bar-item {
  width: 100%;
  height: 10px;
  background: var(--glass);
  border-radius: 5px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--accent);
  width: 0%;
  transition: width 1s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.attributes-list {
  list-style-type: none;
  padding: 0;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 20px;
}

.attribute-tag {
  background: var(--glass-dark);
  color: var(--text);
  padding: 8px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  border: 1px solid var(--glass);
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

@media (max-width: 768px) {
  .container { padding: 0 15px; }
  header h1 { font-size: 2rem; }
  nav { flex-direction: column; width: 90%; }
  nav button { padding: 12px 20px; }
  .card, .question-card, .results-section { padding: 30px 20px; border-radius: 20px; }
  .question-card h3 { font-size: 1.3rem; }
  .question-card p { font-size: 1rem; }
  .user-selector { width: 100%; max-width: 300px; }
  .actions { flex-direction: column; align-items: center; }
  .btn { width: 100%; max-width: 250px; }
  .quiz-choice-container { flex-direction: column; }
  .quiz-choice { min-width: auto; }
}

/* Texte bleu ciel uniquement pour la section Accueil */
#accueil, #accueil h1, #accueil h2, #accueil h3, #accueil p, #accueil span, #accueil .user-card, #accueil .user-card * { color: rgb(135, 206, 250) !important; /* Bleu Ciel */ }
</style>
</head>
<body>
<div id="particles-js"></div>
<header>
    <div class="container">
        <h1>Quiz Orientation Passionnelle</h1>
        <p class="subtitle">D√©couvrez votre Score de R√©sonance Globale</p>
    </div>
</header>
<div class="container">
    <nav>
        <button onclick="showSection('accueil')" class="active" id="nav-accueil">Accueil</button>
        <button onclick="showSection('quiz')" id="nav-quiz" style="display:none;">Questions</button>
        <button onclick="showSection('srg')" id="nav-srg" style="display:none;">R√©sultats</button>
        <button onclick="showSection('analyse')" id="nav-analyse" style="display:none;">Analyse SRG</button>
    </nav>

    <section id="accueil" class="active">
        <div class="card">
            <h2>Bienvenue dans votre parcours d'orientation</h2>
            <p>¬´ Ce voyage interactif vous invite √† explorer les profondeurs de votre personnalit√© √† travers soixante situations professionnelles soigneusement choisies. Choisissez votre nom, puis le quiz que vous souhaitez passer. ¬ª</p>
            <select id="userSelect" class="user-selector" onchange="selectUser()">
                <option value="">-- Choisir un utilisateur --</option>
                <option value="Rachid">Rachid</option>
                <option value="Maria">Maria</option>
                <option value="L√©a">L√©a</option>
                <option value="Salma">Salma</option>
                <option value="Dina">Dina</option>
                <option value="Vladimir">Vladimir</option>
            </select>
            <p id="welcomeMessage"></p>
            
            <div id="quizSelection">
                <h3>Choisissez votre Quiz</h3>
                <div class="quiz-choice-container">
                    <div class="quiz-choice" onclick="selectQuiz('quiz1')">Quiz 1: Dilemmes Originaux</div>
                    <div class="quiz-choice" onclick="selectQuiz('quiz2')">Quiz 2: Sc√©narios Professionnels</div>
                    <div class="quiz-choice" onclick="selectQuiz('quiz3')">Quiz 3: Nouveaux D√©fis</div>
                </div>
            </div>
            <p id="quizStatus" style="color: var(--success); margin-top: 15px; font-weight: 500; display: none;"></p>
        </div>
    </section>

    <section id="quiz">
        <div class="quiz-header">
            <h2 id="quizTitle"></h2>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <p style="color: rgba(255, 255, 255, 0.8); margin-top: 10px;">R√©pondez aux situations suivantes selon votre instinct</p>
            <p id="validationMessage">Veuillez s√©lectionner une option avant de continuer.</p>
        </div>
        <div id="quizContainer">
            </div>
        <div class="actions">
            <button class="btn btn-primary" onclick="nextQuestion()" id="nextButton">Question Suivante (1/20)</button>
            <button class="btn btn-secondary" onclick="prevQuestion()" id="prevButton" style="display:none;">Question Pr√©c√©dente</button>
        </div>
    </section>

    <section id="srg">
        <div class="results-section">
            <h2>R√©sultats du Quiz: Score de R√©sonance Globale</h2>
            <p id="srgMessage" style="color: var(--accent); font-size: 1.3rem;">Calcul de votre profil en cours...</p>
            
            <div class="results-card" id="srgResultsCard" style="display:none;">
                <h3>Votre Top 3 de R√©sonance Professionnelle</h3>
                <p>Ces domaines correspondent le mieux √† vos choix, indiquant une forte r√©sonance avec votre personnalit√© et vos int√©r√™ts.</p>
                <ul class="results-list" id="srgProfessionsList">
                    </ul>
                <p id="srgScore" style="color: var(--text); font-size: 1.5rem; margin-top: 30px;"></p>
            </div>
        </div>
    </section>

    <section id="analyse">
        <div class="results-section">
            <h2>Explication et Analyse de votre Profil SRG</h2>
            <div class="results-card">
                <h3>Comprendre votre Profil SRG : Science, Relationnel et Garantie</h3>
                <p>Le **Quiz d'Orientation Passionnelle** vise √† mesurer l'√©quilibre de vos instincts face √† des dilemmes √©thiques et professionnels, en les classant selon trois attributs fondamentaux (SRG) :</p>
                <ul style="list-style:disc; text-align:left; max-width:800px; margin:0 auto 30px auto; padding-left:20px;">
                    <li style="margin-bottom:10px;">**S (Science / Logique)** : Votre tendance √† analyser objectivement les faits, les co√ªts, les risques, et √† privil√©gier la solution la plus efficace ou rationnelle.</li>
                    <li style="margin-bottom:10px;">**R (Relationnel / √âmotion)** : Votre inclination √† consid√©rer l'impact humain, l'int√©grit√©, la communication et les valeurs personnelles ou collectives.</li>
                    <li style="margin-bottom:10px;">**G (Garantie / R√®gle)** : Votre besoin d'appliquer strictement les r√®gles, de garantir la s√©curit√© ou l'int√©grit√© sans compromis, quel qu'en soit le co√ªt imm√©diat.</li>
                </ul>
                
                <h3>Le M√©canisme de Relais de Fichier (Pond√©ration Avanc√©e)</h3>
                <p>Le syst√®me utilise une **Formule de R√©sonance Globale (SRG)** sophistiqu√©e qui va au-del√† du simple comptage :</p>
                <ul style="list-style:disc; text-align:left; max-width:800px; margin:0 auto 30px auto; padding-left:20px;">
                    <li style="margin-bottom:10px;">**Pond√©ration Discriminante (W)** : Vos r√©ponses sont analys√©es en donnant **plus de poids** aux attributs qui **diff√©rencient** le mieux les professions, assurant une orientation plus pr√©cise.</li>
                    <li style="margin-bottom:10px;">**Facteur de Diversit√©** : Les profils utilisateurs plus √©quilibr√©s re√ßoivent un l√©ger *boost* contr√¥l√©, encourageant la polyvalence.</li>
                    <li style="margin-bottom:10px;">**Facteur de Dominance** : Le score est √©galement ajust√© pour v√©rifier si vos **forces dominantes** (vos meilleurs scores S, R, G) correspondent aux **exigences prioritaires** des professions cibles.</li>
                </ul>
                <p>Ce calcul complexe est votre **Relais de Fichier** : il transforme vos choix bruts en un score pond√©r√© qui r√©v√®le votre profil dominant et vos forces d'orientation.</p>
                <ul class="attributes-list" id="attributesList">
                </ul>
            </div>
        </div>
    </section>

</div>

<script>
// --- Variables Globales ---
const MAX_QUESTIONS = 20;
const USERS = ["Rachid", "Maria", "L√©a", "Salma", "Dina", "Vladimir"];
const ATTRIBUTES = ['S', 'R', 'G']; // Science, Relationnel, Garantie
let currentUser = null;
let currentQuizType = null;
let currentQuestionIndex = 0;
let topAttributes = []; // Pour stocker les meilleurs attributs
let userStates = JSON.parse(localStorage.getItem('userStates')) || {};

// --- Param√®tres et Donn√©es pour la Formule SRG (Pond√©ration Avanc√©e) ---
const PROFESSIONS_DATA = [
    { name: "Analyste Strat√©gique", P: [9, 3, 7] },
    { name: "Coach / DRH", P: [4, 9, 5] },
    { name: "Audit & Conformit√©", P: [7, 4, 9] },
    { name: "Entrepreneur Tech", P: [8, 6, 4] },
    { name: "Travailleur Social", P: [2, 10, 3] },
    { name: "Gestion de Crise", P: [6, 7, 8] },
    { name: "Recherche Scientifique", P: [10, 2, 5] },
    { name: "Avocat / Juge", P: [5, 5, 10] },
    { name: "Designer √âthique", P: [3, 8, 6] },
    { name: "Marketing Data", P: [8, 5, 3] },
];

const QUIZ_SCORING_MAPPING = {
    // Quiz 1: Dilemmes Originaux
    'quiz1': [
        { A: 'S', B: 'R', C: 'G' }, // Q1: Le Dilemme du Pont
        { A: 'S', B: 'R', C: 'G' }, // Q2: L'Artiste en Herbe
        { A: 'S', B: 'R', C: 'G' }, // Q3: Le Nouveau Chef d'√âquipe
        { A: 'S', B: 'R', C: 'G' }, // Q4: Le Vrai Chef
        { A: 'S', B: 'R', C: 'G' }, // Q5: Le D√©bat sur la Libert√© d'Expression
        { A: 'S', B: 'R', C: 'G' }, // Q6: Le Vol des Id√©es
        { A: 'S', B: 'R', C: 'G' }, // Q7: La Crise √âthique
        { A: 'S', B: 'R', C: 'G' }, // Q8: Le Dilemme du B√©n√©volat
        { A: 'S', B: 'R', C: 'G' }, // Q9: La Critique Constructive
        { A: 'S', B: 'R', C: 'G' }, // Q10: Le Partenaire en Doute
        { A: 'S', B: 'R', C: 'G' }, // Q11: Le Conflit d'Int√©r√™t
        { A: 'S', B: 'R', C: 'G' }, // Q12: L'Influence Nocive
        { A: 'S', B: 'R', C: 'G' }, // Q13: Le Nouveau Code de Conduite
        { A: 'S', B: 'R', C: 'G' }, // Q14: Le Changement de Carri√®re (R√©seau)
        { A: 'S', B: 'R', C: 'G' }, // Q15: Le Sauvetage
        { A: 'S', B: 'R', C: 'G' }, // Q16: Le D√©veloppeur de l'Ombre
        { A: 'S', B: 'R', C: 'G' }, // Q17: Le Militant Pacifique
        { A: 'S', B: 'R', C: 'G' }, // Q18: La Banqui√®re et le Client
        { A: 'S', B: 'R', C: 'G' }, // Q19: Le Changement de Carri√®re (√âchec)
        { A: 'S', B: 'R', C: 'G' }  // Q20: Le Scientifique de l'Espace
    ],
    // Quiz 2: Sc√©narios Professionnels
    'quiz2': [
        { A: 'S', B: 'R', C: 'G' }, // Q1: Le Bug Critique
        { A: 'S', B: 'R', C: 'G' }, // Q2: Le Concours de Design
        { A: 'S', B: 'R', C: 'G' }, // Q3: Le Projet B√©n√©vole
        { A: 'S', B: 'R', C: 'G' }, // Q4: Le Dossier Confidentiel
        { A: 'S', B: 'R', C: 'G' }, // Q5: L'Offre Douteuse
        { A: 'S', B: 'R', C: 'G' }, // Q6: L'Erreur de Facturation
        { A: 'S', B: 'R', C: 'G' }, // Q7: Le Conflit Familial
        { A: 'S', B: 'R', C: 'G' }, // Q8: La D√©couverte Scientifique
        { A: 'S', B: 'R', C: 'G' }, // Q9: Le Produit R√©volutionnaire... Mais Inutile ?
        { A: 'S', B: 'R', C: 'G' }, // Q10: Le Choix du Stagiaire
        { A: 'S', B: 'R', C: 'G' }, // Q11: La Rumeur
        { A: 'S', B: 'R', C: 'G' }, // Q12: Le Partenariat Strat√©gique
        { A: 'S', B: 'R', C: 'G' }, // Q13: L'H√©ritage Culturel
        { A: 'S', B: 'R', C: 'G' }, // Q14: Le D√©lai Impossible
        { A: 'S', B: 'R', C: 'G' }, // Q15: Le Whistleblower
        { A: 'S', B: 'R', C: 'G' }, // Q16: Le Choix du Cadeau
        { A: 'S', B: 'R', C: 'G' }, // Q17: L'IA G√©n√©ratrice
        { A: 'S', B: 'R', C: 'G' }, // Q18: Le Mauvais Num√©ro
        { A: 'S', B: 'R', C: 'G' }, // Q19: Le Changement de Cap
        { A: 'S', B: 'R', C: 'G' }  // Q20: Le Test R√©ussi... ou Presque
    ],
    // Quiz 3: Nouveaux D√©fis
    'quiz3': [
        { A: 'S', B: 'R', C: 'G' }, // Q1: Le Projet en P√©ril
        { A: 'S', B: 'R', C: 'G' }, // Q2: Le Cadeau Empoisonn√©
        { A: 'S', B: 'R', C: 'G' }, // Q3: Le Code de la Concurrence
        { A: 'S', B: 'R', C: 'G' }, // Q4: L'Avantage Injuste
        { A: 'S', B: 'R', C: 'G' }, // Q5: Le Dilemme √âcologique
        { A: 'S', B: 'R', C: 'G' }, // Q6: Le Conflit d'Int√©r√™ts
        { A: 'S', B: 'R', C: 'G' }, // Q7: La Promesse Non Contractuelle
        { A: 'S', B: 'R', C: 'G' }, // Q8: L'Innovation Risqu√©e
        { A: 'S', B: 'R', C: 'G' }, // Q9: Le Salari√© en Difficult√©
        { A: 'S', B: 'R', C: 'G' }, // Q10: L'Erreur d'un Subalterne
        { A: 'S', B: 'R', C: 'G' }, // Q11: La D√©cision Impopulaire
        { A: 'S', B: 'R', C: 'G' }, // Q12: Le Brevet Contestable
        { A: 'S', B: 'R', C: 'G' }, // Q13: Le Choix du Fournisseur
        { A: 'S', B: 'R', C: 'G' }, // Q14: L'Heure Suppl√©mentaire Obligatoire
        { A: 'S', B: 'R', C: 'G' }, // Q15: La Critique Publique
        { A: 'S', B: 'R', C: 'G' }, // Q16: La D√©couverte Fortuite
        { A: 'S', B: 'R', C: 'G' }, // Q17: L'Ordre Contraire √† l'√âthique
        { A: 'S', B: 'R', C: 'G' }, // Q18: Le Pari Technologique
        { A: 'S', B: 'R', C: 'G' }, // Q19: Le Mauvais Exemple
        { A: 'S', B: 'R', C: 'G' }  // Q20: L'√âquilibre Vie Pro/Vie Perso
    ]
};

const QUIZ_DATA = {
    'quiz1': [
        { question: "Le Dilemme du Pont - Situation : Vous √™tes ing√©nieur¬∑e sur un chantier. Un pont s'effondre partiellement alors que votre √©quipe est en pause. Vous √™tes le/la seul¬∑e √† voir qu'une remorque charg√©e de mat√©riaux roule droit vers la section affaiblie. Le chauffeur ne r√©pond pas √† son radio. Vous avez le temps de d√©clencher une charge d'explosifs contr√¥l√©s pour faire s'effondrer compl√®tement le pont et bloquer la route, sacrifiant l'ouvrage mais sauvant potentiellement le chauffeur. Ou de courir pr√©venir l'√©quipe en contrebas, au risque que la remorque arrive avant vous.", options: { A: "Analyse et Raisonnement - Vous calculez mentalement le temps disponible, la trajectoire, la masse de la remorque et la probabilit√© de succ√®s de chaque sc√©nario avant d'agir.", B: "Empathie et Collaboration - Vous criez imm√©diatement pour alerter tout le monde en m√™me temps, esp√©rant que quelqu'un entende et puisse aider, tout en agitant les bras pour tenter d'arr√™ter le chauffeur.", C: "√âthique et Int√©grit√© - Vous d√©clenchez les explosifs. Votre serment d'ing√©nieur est de prot√©ger des vies, pas des structures. Vous assumez la responsabilit√© de la destruction du pont." }},
        { question: "L'Artiste en Herbe - Situation : Vous avez toujours r√™v√© de devenir c√©ramiste. Vos parents, inquiets pour votre avenir, ont sacrifi√© leurs √©conomies pour vous payer des √©tudes d'informatique, un domaine \"porteur\". Vous venez de d√©crocher un CDI bien pay√© dans une grande entreprise. Un soir, un ma√Ætre artisan vous propose une place rare et non r√©mun√©r√©e dans son atelier pour six mois.", options: { A: "Analyse et Raisonnement - Vous n√©gociez avec votre employeur pour passer √† 80% et prenez des cong√©s sans solde pour tester l'atelier sans br√ªler vos ponts.", B: "Empathie et Collaboration - Vous parlez √† vos parents de cette opportunit√©, en leur promettant que vous garderez votre emploi stable tout en explorant votre passion pour les rassurer.", C: "√âthique et Int√©grit√© - Vous d√©missionnez. Travailler dans l'informatique par obligation serait vous trahir vous-m√™me et tromper votre employeur sur vos v√©ritables motivations." }},
        { question: "Le Nouveau Chef d'√âquipe - Situation : Vous √™tes promu¬∑e pour manager une √©quipe soud√©e et talentueuse qui regrettait son ancien manager, parti r√©cemment. Lors de votre premi√®re r√©union, vous sentez une froideur polie et une r√©sistance passive.", options: { A: "Analyse et Raisonnement - Vous analysez d'abord les forces et faiblesses de chaque membre, les processus en place et les performances pass√©es pour identifier les leviers d'am√©lioration objectifs.", B: "Empathie et Collaboration - Vous organisez un d√©jeuner informel pour apprendre √† les conna√Ætre, √©couter leurs attentes et leur exprimer votre respect pour le travail accompli avec votre pr√©d√©cesseur.", C: "√âthique et Int√©grit√© - Vous d√©clarez ouvertement en r√©union : \"Je sais que ma nomination peut √™tre d√©stabilisante. Je vous promets transparence et √©quit√©. Mon seul objectif est notre succ√®s collectif.\"" }},
        { question: "Le Vrai Chef - Situation : Votre √©quipe doit compiler manuellement 500 pages de donn√©es brutes, une t√¢che fastidieuse et error-prone. La motivation est au plus bas.", options: { A: "Analyse et Raisonnement - Vous passez la nuit √† √©crire un script qui automatise 80% de la t√¢che. Le lendemain, vous pr√©sentez la solution et r√©partissez le travail restant, bien plus light.", B: "Empathie et Collaboration - Vous lancez un \"challenge\" d'√©quipe avec des petits objectifs quotidiens et une r√©compense collective √† la cl√©. Vous roulez aussi vos manches pour compiler vous-m√™me une partie des donn√©es.", C: "√âthique et Int√©grit√© - Vous allez voir la direction pour leur expliquer que cette m√©thode est inefficace et d√©moralisante, et vous plaidez pour l'acquisition d'un logiciel ou l'embauche d'un prestataire sp√©cialis√©." }},
        { question: "Le D√©bat sur la Libert√© d'Expression - Situation : Lors d'une r√©union publique, une personne prend la parole pour tenir des propos profond√©ment x√©nophobes, bas√©s sur de fausses statistiques.", options: { A: "Analyse et Raisonnement - Vous prenez la parole √† votre tour pour d√©monter point par point, calmement et avec des sources v√©rifiables, chaque argument avanc√©.", B: "Empathie et Collaboration - Vous intervenez pour recentrer le d√©bat sur les valeurs humaines et le vivre-ensemble, en demandant √† l'assistance de partager des exp√©riences positives de diversit√©.", C: "√âthique et Int√©grit√© - Vous demandez au mod√©rateur d'intervenir pour rappeler le r√®glement qui interdit les discours de haine, estimant que certaines limites ne doivent pas √™tre franchies." }},
        { question: "Le Vol des Id√©es - Situation : Lors d'une r√©union importante, un coll√®gue pr√©sente *votre* id√©e de projet comme √©tant la sienne, sous les f√©licitations du boss.", options: { A: "Analyse et Raisonnement - Vous attendez la fin de la r√©union. Vous rassemblez calmement les preuves de votre paternit√© (emails, brouillons dat√©s) et allez en parler au boss en priv√©.", B: "Empathie et Collaboration - Vous abordez votre coll√®gue en priv√© apr√®s la r√©union : \"J'ai √©t√© surpris que tu pr√©sentes notre id√©e comme √ßa. Parlons-en pour qu'on puisse la porter ensemble.\"", C: "√âthique et Int√©grit√© - Vous intervenez imm√©diatement en r√©union, de mani√®re polie mais ferme : \"Je suis ravi que mon id√©e, que j'ai partag√©e avec [coll√®gue] hier, soit si bien accueillie. Je suis impatient de d√©velopper les d√©tails.\"" }},
        { question: "La Crise √âthique - Situation : Votre entreprise de agro-alimentaire a dissimul√© une contamination dans un lot de produits. Le scandale √©clate. Vous devez g√©rer la com.", options: { A: "Analyse et Raisonnement - Vous communiquez uniquement sur les faits : num√©ros de lots concern√©s, mesures de rappel pr√©cises, processus mis en place pour √©viter la r√©cidive. Froid et technique.", B: "Empathie et Collaboration - Vous pr√©sentez des excuses publiques et humaines, vous mettez √† disposition une aide psychologique et m√©dicale pour les clients inquiets, et montrez les √©quipes qui travaillent √† r√©soudre le probl√®me.", C: "√âthique et Int√©grit√© - Vous annoncez une enqu√™te interne transparente, la suspension des responsables ayant dissimul√© l'information et la mise en place d'un comit√© √©thique ind√©pendant." }},
        { question: "Le Dilemme du B√©n√©volat - Situation : Une association de protection de l'enfance que vous admirez a besoin de b√©n√©voles pour tenir un stand lors d'un week-end crucial. Votre agenda est surcharg√© par un important projet professionnel et des obligations familiales.", options: { A: "Analyse et Raisonnement - Vous estimez que vous ne pouvez pas vous engager sans compromettre la qualit√© de votre travail ou votre sant√©. Vous faites un don financier √† la place.", B: "Empathie et Collaboration - Vous proposez de donner 2 heures sur le week-end plut√¥t qu'une journ√©e, ou de les aider en amont avec la pr√©paration (graphisme, logistique) depuis chez vous.", C: "√âthique et Int√©grit√© - Vous vous engagez pour la journ√©e compl√®te. Vous estimez que certaines causes sont trop importantes et que tenir ses engagements, m√™me difficiles, est primordial." }},
        { question: "La Critique Constructive - Situation : Votre manager vous fait un retour tr√®s s√©v√®re mais juste sur une pr√©sentation que vous pensiez avoir r√©ussie.", options: { A: "Analyse et Raisonnement - Vous prenez des notes pr√©cises, posez des questions pour bien comprendre chaque point d'am√©lioration et demandez des exemples concrets.", B: "Empathie et Collaboration - Vous remerciez votre manager pour son honn√™tet√© et lui demandez des conseils ou des ressources pour vous am√©liorer, en reconnaissant que vous avez encore des choses √† apprendre.", C: "√âthique et Int√©grit√© - Vous reconnaissez imm√©diatement et sans vous justifier les erreurs point√©es du doigt et vous vous engagez formellement √† pr√©senter une version corrig√©e sous 24h." }},
        { question: "Le Partenaire en Doute - Situation : Votre associ√©¬∑e, qui est aussi un ami proche, a des doutes sur la viabilit√© de votre startup commune et envisage de tout arr√™ter.", options: { A: "Analyse et Raisonnement - Vous proposez de r√©aliser une analyse SWOT compl√®te (Forces, Faiblesses, Opportunit√©s, Menaces) ensemble, bas√©e sur des donn√©es march√©, pour prendre une d√©cision √©clair√©e.", B: "Empathie et Collaboration - Vous l'√©coutez longuement ventiler ses craintes et son stress sans l'interrompre. Vous partagez ensuite vos propres doutes pour cr√©er un espace de vuln√©rabilit√© et de soutien mutuel.", C: "√âthique et Int√©grit√© - Vous lui dites : \"Si ton c≈ìur n'y est plus, il est plus honn√™te de s'arr√™ter maintenant. Notre amiti√© est plus importante que ce business.\"" }},
        { question: "Le Conflit d'Int√©r√™t - Situation : Un coll√®gue ami vous supplie de modifier l√©g√®rement les r√©sultats d'un test pour que son projet, sur lequel il a beaucoup investi, soit valid√©.", options: { A: "Analyse et Raisonnement - Vous lui proposez de l'aider √† analyser *pourquoi* le test a √©chou√© et √† trouver des solutions techniques ou des arguments pour demander une d√©rogation fond√©e.", B: "Empathie et Collaboration - Vous reconnaissez sa d√©ception et son investissement, mais vous refusez en expliquant les risques pour l'entreprise, l'√©quipe et pour lui-m√™me si la fraude √©tait d√©couverte.", C: "√âthique et Int√©grit√© - Vous refusez cat√©goriquement et l'avertissez que vous seriez dans l'obligation de signaler toute tentative de falsification, pour prot√©ger l'int√©grit√© des donn√©es." }},
        { question: "L'Influence Nocive - Situation : Un coll√®gue tr√®s populaire et brillant se plaint constamment, ridiculise les objectifs de l'entreprise et encourage subtilement l'oisivet√©. La motivation de l'√©quipe chute.", options: { A: "Analyse et Raisonnement - Vous collectez des donn√©es objectives sur la baisse de productivit√© de l'√©quipe depuis son arriv√©e et allez en parler au manager avec ces faits, sans attaques personnelles.", B: "Empathie et Collaboration - Vous essayez de comprendre les raisons de son amertume. Vous l'invitez √† caf√© pour discuter et tenter de le reconnecter positivement au projet d'√©quipe.", C: "√âthique et Int√©grit√© - Vous confrontez le coll√®gue directement mais en priv√© : \"Ton attitude a un impact n√©gatif sur l'√©quipe. Soit tu changes de comportement, soit je serai oblig√© d'en parler.\"" }},
        { question: "Le Nouveau Code de Conduite - Situation : On vous charge de r√©diger le nouveau code de conduite de l'entreprise.", options: { A: "Analyse et Raisonnement - Vous basez votre travail sur une √©tude comparative des codes des leaders du secteur, des lois en vigueur et des risques juridiques identifi√©s.", B: "Empathie et Collaboration - Vous organisez des ateliers avec des employ√©s de tous niveaux et services pour recueillir leurs avis et pr√©occupations sur ce qui devrait y figurer.", C: "√âthique et Int√©grit√© - Vous faites des valeurs fondamentales comme le respect, l'√©quit√© et la transparence les piliers absolus du document, avec des proc√©dures de signalement claires et protectrices." }},
        { question: "Le Changement de Carri√®re (R√©seau) - Situation : Vous vous reconvertissez dans la permaculture. Vous avez l'opportunit√© de travailler sur une ferme extraordinaire, mais vous ne connaissez personne dans ce milieu pour vous recommander.", options: { A: "Analyse et Raisonnement - Vous √©tudiez en d√©tail le site web et les activit√©s de la ferme. Vous r√©digez une lettre de motivation cibl√©e qui montre comment vos comp√©tences *uniques* (ex: gestion de projet, webmarket) peuvent leur √™tre utiles.", B: "Empathie et Collaboration - Vous commencez par suivre la ferme sur les r√©seaux sociaux, commentez ses posts avec pertinence, et essayez d'entrer en contact informel avec ses employ√©s pour apprendre d'eux avant de postuler.", C: "√âthique et Int√©grit√© - Vous postulez en √©tant totalement transparent¬∑e sur votre manque d'exp√©rience directe, mais en mettant en avant votre passion brute, votre volont√© d'apprendre et votre ethos de travail." }},
        { question: "Le Sauvetage - Situation : (Sc√©nario hypoth√©tique) Vous √™tes m√©decin en zone sinistr√©e. Deux patients n√©cessitent un traitement urgent avec le seul dose de m√©dicament disponible. Un enfant de 8 ans et une chercheuse qui est sur le point de trouver un rem√®de contre la maladie qui a caus√© la catastrophe.", options: { A: "Analyse et Raisonnement - Vous basez votre d√©cision sur des crit√®res m√©dicaux stricts (probabilit√© de survie, esp√©rance de vie, temps n√©cessaire au traitement) et/ou l'utilitarisme (sauver le plus de vies √† long terme).", B: "Empathie et Collaboration - Vous rassemblez les autres m√©decins ou infirmiers pr√©sents pour prendre la d√©cision de mani√®re collective et partager le poids moral de ce choix.", C: "√âthique et Int√©grit√© - Vous suivez le protocole √©thique standard (ex: tirage au sort) ou votre serment (\"soigner sans distinction\") pour √©viter de jouer √† Dieu et de faire un choix bas√© sur la valeur subjective d'une vie." }},
        { question: "Le D√©veloppeur de l'Ombre - Situation : Votre chef vous demande explicitement de signer votre nom sur le code d'un projet critique, alors que c'est une stagiaire timide et talentueuse qui a fait 95% du travail. Il argue qu'un \"nom senior\" rassurera le client.", options: { A: "Analyse et Raisonnement - Vous proposez un compromis : votre nom est sur le projet en tant que \"responsable technique\", mais la stagiaire est clairement cr√©dit√©e comme \"d√©veloppeuse principale\" dans la documentation et les commits.", B: "Empathie et Collaboration - Vous allez en parler √† la stagiaire pour conna√Ætre son opinion. Vous la rassurez sur son travail et lui proposez de la co-pr√©senter au client pour qu'elle ait la reconnaissance qu'elle m√©rite.", C: "√âthique et Int√©grit√© - Vous refusez cat√©goriquement. Vous exigez que le cr√©dit aille int√©gralement √† la stagiaire et vous proposez de d√©fendre cette position aupr√®s du client ensemble." }},
        { question: "Le Militant Pacifique - Situation : Votre mouvement non-violent pour le climat est accus√© √† tort dans les m√©dias d'avoir vandalis√© une ≈ìuvre d'art lors d'une manifestation.", options: { A: "Analyse et Raisonnement - Vous mobilisez imm√©diatement votre √©quipe pour rassembler des preuves contraires (vid√©os de surveillance, t√©moignages, alibis) et engagez un avocat pour une mise au point juridique et une demande de droit de r√©ponse.", B: "Empathie et Collaboration - Vous organisez une conf√©rence de presse avec des figures respect√©es et apolitiques (scientifiques, artistes) pour d√©fendre la r√©putation du mouvement et r√©affirmer son engagement pour la non-violence.", C: "√âthique et Int√©grit√© - Vous publiez un communiqu√© ferme et clair : \"Nous condamnons sans √©quivoque cet acte. Il est contraire √† nos valeurs. Nous n'avons aucun lien avec ses auteurs et collaborons avec la police pour les identifier.\"" }},
        { question: "La Banqui√®re et le Client - Situation : Un client √¢g√©, r√©cemment veuf et fragile √©motionnellement, veut investir toutes ses √©conomies dans une cryptomonnaie tr√®s sp√©culative promue par un influenceur qu'il admire.", options: { A: "Analyse et Raisonnement - Vous lui pr√©sentez un dossier d√©taill√© avec l'historique de volatilit√© de l'actif, les risques techniques, et une simulation des pertes potentielles bas√©e sur des sc√©narios stressants.", B: "Empathie et Collaboration - Vous prenez le temps de comprendre son besoin (se sentir en contr√¥le, pr√©parer l'avenir) et lui proposez de rencontrer un conseiller en patrimoine avec lui pour explorer des options plus s√ªres et adapt√©es.", C: "√âthique et Int√©grit√© - Vous refusez d'ex√©cuter l'ordre. Vous estimez que cela irait √† l'encontre de votre devoir de conseil et de protection d'un client vuln√©rable, m√™me s'il insiste." }},
        { question: "Le Changement de Carri√®re (√âchec) - Situation : Votre premi√®re tentative de cr√©ation d'entreprise dans votre nouveau domaine se solde par un √©chec cuisant et co√ªteux.", options: { A: "Analyse et Raisonnement - Vous passez des semaines √† analyser post-mortem ce qui a √©chou√© : le business model, le produit, le timing, la communication. Vous listez les le√ßons apprises.", B: "Empathie et Collaboration - Vous contactez votre r√©seau, y compris ceux qui ont √©chou√© avant vous, pour partager votre exp√©rience, demander du soutien et des conseils pour rebondir.", C: "√âthique et Int√©grit√© - Vous assurez d'abord et prioritairement le r√®glement de toutes vos dettes envers les fournisseurs et partenaires, m√™me si cela prend du temps, pour partir sur des bases saines et honorables." }},
        { question: "Le Scientifique de l'Espace - Situation : On vous propose de piloter le premier vaisseau vers un nouveau syst√®me stellaire. Le voyage est sans retour et le taux de succ√®s est estim√© √† 50%. La gloire √©ternelle vous attend en cas de succ√®s.", options: { A: "Analyse et Raisonnement - Vous demandez √† avoir un acc√®s illimit√© aux donn√©es techniques, aux simulations et au profil psychologique des pr√©c√©dents candidats pour √©valuer objectivement vos chances de survie et de succ√®s.", B: "Empathie et Collaboration - Vous consultez longuement votre famille et vos proches. Votre d√©cision finale sera largement influenc√©e par leur capacit√© √† accepter et supporter votre d√©part forever.", C: "√âthique et Int√©grit√© - Vous acceptez (ou refusez) en fonction de l'alignement de cette mission avec votre purpose de vie le plus profond, au-del√† de la peur ou de la gloire. \"C'est ma destin√©e\" ou \"Ce n'est pas ce pour quoi je suis fait\"." }}
    ],
    'quiz2': [
        { question: "Le Bug Critique - Situation : Vous √™tes d√©veloppeur¬∑euse sur une application de banque en ligne. Vous d√©couvrez un bug critique qui expose bri√®vement les donn√©es de connexion de certains clients. Le corriger prendrait 4 heures de maintenance non pr√©vue, tr√®s co√ªteuse. Le risque d'exploitation du bug est consid√©r√© comme tr√®s faible par votre manager.", options: { A: "Vous estimez la probabilit√© d'une exploitation du bug, le co√ªt potentiel d'une fuite de donn√©es versus le co√ªt de la maintenance, et proposez un plan de correction durant les heures de plus faible trafic.", B: "Vous proposez d'envoyer un message pr√©ventif et transparent aux utilisateurs potentiellement touch√©s pour les alerter et leur recommander de changer leur mot de passe, tout en planifiant la correction.", C: "Vous insistez pour que le bug soit corrig√© imm√©diatement, arguant que la s√©curit√© des clients n'a pas de prix et ne peut √™tre compromise, quels que soient les co√ªts." }},
        { question: "Le Concours de Design - Situation : Vous participez √† un concours de design important. Un ami vous envoie par erreur son projet, bien plus innovant que le v√¥tre. Vous avez juste le temps de vous en inspirer avant qu'il ne r√©alise son erreur et ne retire le fichier.", options: { A: "Vous analysez objectivement les forces de son concept et essayez de repousser les limites de votre propre projet original sans le copier, pour rester comp√©titif.", B: "Vous pr√©venez imm√©diatement votre ami de son erreur et lui proposez de brainstormer ensemble pour vous aider √† am√©liorer votre projet de mani√®re l√©gitime.", C: "Vous fermez le fichier sans le regarder et confirmez √† votre ami que vous ne l'avez pas ouvert, pr√©f√©rant perdre avec int√©grit√© que gagner par la malhonn√™tet√©." }},
        { question: "Le Projet B√©n√©vole - Situation : Vous dirigez une √©quipe de b√©n√©voles pour un festival. L'un d'eux, tr√®s enthousiaste mais d√©sorganis√©, oublie souvent ses t√¢ches, ce qui p√©nalise le groupe. Les autres b√©n√©voles commencent √† r√¢ler.", options: { A: "Vous cr√©ez un syst√®me de check-lists et de rappels automatis√©s pour tout le monde, aidant le b√©n√©vole en difficult√© sans le stigmatiser et en am√©liorant l'efficacit√© globale.", B: "Vous prenez le b√©n√©vole √† part pour lui demander s'il va bien et s'il a besoin d'aide, et proposez au groupe de se r√©partir diff√©remment les t√¢ches en fonction des forces de chacun.", C: "Vous parlez franchement au b√©n√©vole de l'impact de ses oublis sur l'√©quipe et lui proposez un ultimatum : s'am√©liorer avec votre soutien, ou quitter l'√©quipe pour ne pas nuire √† la cause." }},
        { question: "Le Dossier Confidentiel - Situation : En travaillant sur le serveur partag√©, vous tombez par accident sur le dossier de licenciement pr√©paratoire d'un coll√®gue et ami proche. Personne n'est au courant que vous avez vu cela.", options: { A: "Vous n'en parlez √† personne. Vous analysez froidement la situation et commencez discr√®tement √† documenter tout votre travail commun pour √©viter tout impact sur vos propres projets.", B: "Vous allez voir votre ami de mani√®re discr√®te et lui dit que vous avez senti \"une mauvaise ambiance\" autour de son projet, lui conseillant de se rapprocher de la RH ou de son manager pour faire le point.", C: "Vous allez voir votre manager pour lui dire que vous avez accidentellement vu ce dossier, exprimant votre inqui√©tude et demandant comment soutenir au mieux votre coll√®gue durant cette p√©riode difficile." }},
        { question: "L'Offre Douteuse - Situation : Un fournisseur potentiel vous propose un contrat tr√®s avantageux pour votre entreprise, mais il glisse lors du d√Æner qu'un \"cadeau\" substantiel vous attend personnellement si le contrat est sign√©.", options: { A: "Vous faites imm√©diatement des recherches approfondies sur ce fournisseur et ses pratiques pass√©es pour √©valuer les risques juridiques et r√©putationnels potentiels pour votre entreprise.", B: "Vous lui expliquez calmement que de telles pratiques mettent both of you en danger et proposez de poursuivre les n√©gociations sur la seule base de la qualit√© et du prix de son offre.", C: "Vous mettez fin imm√©diatement aux n√©gociations et signalez la proposition √† votre d√©partement de compliance ou √† votre sup√©rieur hi√©rarchique." }},
        { question: "L'Erreur de Facturation - Situation : Vous r√©alisez que votre entreprise a factur√© par erreur 10 000 ‚Ç¨ de trop √† un petit client. Corriger l'erreur impactera n√©gativement les r√©sultats de votre d√©partement ce trimestre.", options: { A: "Vous calculez l'impact financier de la correction, estimez le risque que le client d√©couvre l'erreur plus tard et les potentielles p√©nalit√©s ou perte de confiance associ√©es.", B: "Vous contactez le client pour vous excuser de l'erreur, vous lui expliquez la situation et lui proposez un plan de remboursement ou un cr√©dit sur sa prochaine facture.", C: "Vous corrigez imm√©diatement l'erreur et informez votre responsable financier, assumant la responsabilit√© de l'impact sur les r√©sultats au nom de l'honn√™tet√©." }},
        { question: "Le Conflit Familial - Situation : Vous devez choisir le successeur pour diriger l'entreprise familiale. Votre enfant a√Æn√©¬∑e s'y attend et est comp√©tent¬∑e. Votre cadet¬∑te est bien plus talentueux¬∑euse et passionn√©¬∑e, mais ne s'attend pas √† √™tre choisi¬∑e.", options: { A: "Vous organisez une s√©rie de tests pratiques et d'entretiens pour les deux candidats, en vous basant sur des crit√®res objectifs de comp√©tences et de vision pour l'entreprise.", B: "Vous r√©unissez toute la famille pour une discussion ouverte sur les aspirations de chacun et la future direction de l'entreprise, cherchant un consensus.", C: "Vous choisissez l'enfant le plus comp√©tent et passionn√© pour le poste, expliquant √† l'a√Æn√©¬∑e que la sant√© future de l'entreprise dont d√©pend la famille doit passer avant toute autre consid√©ration." }},
        { question: "La D√©couverte Scientifique - Situation : Vous √™tes chercheur¬∑euse. Vous avez fait une d√©couverte majeure, mais vos r√©sultats sont bas√©s sur une m√©thode exp√©rimentale non conventionnelle qui pourrait √™tre facilement critiqu√©e. Un concurrent annonce une conf√©rence de presse pour pr√©senter des r√©sultats similaires dans une semaine.", options: { A: "Vous passez la semaine √† r√©aliser une nouvelle batterie de tests avec une m√©thode standard pour corroborer vos r√©sultats avant toute publication.", B: "Vous contactez directement votre concurrent pour lui proposer de comparer vos donn√©es et peut-√™tre publier un article conjoint, renfor√ßant la cr√©dibilit√© des deux d√©couvertes.", C: "Vous publiez imm√©diatement vos r√©sultats en preprint en toute transparence sur votre m√©thode, estimant que la v√©rit√© scientifique doit √™tre accessible √† tous, quels que soient les risques pour votre r√©putation." }},
        { question: "Le Produit R√©volutionnaire... Mais Inutile ? - Situation : Votre √©quipe a d√©velopp√© un produit technologiquement brillant et innovant. Cependant, les tests march√© montrent clairement qu'il ne r√©pond √† aucun besoin r√©el et a peu de chances de succ√®s commercial.", options: { A: "Vous analysez froidement les donn√©es de test et recommandez d'arr√™ter le projet pour r√©allouer les ressources vers des id√©es plus prometteuses, malgr√© l'attachement de l'√©quipe.", B: "Vous organisez un s√©minaire avec l'√©quipe et le marketing pour brainstormer sur d'√©ventuels usages ou march√©s alternatifs qui n'avaient pas √©t√© envisag√©s.", C: "Vous plaidez pour l'arr√™t du projet, arguant qu'il est contraire √† l'√©thique de l'entreprise de mettre sur le march√© un produit dont on sait qu'il n'apporte aucune valeur aux clients." }},
        { question: "Le Choix du Stagiaire - Situation : Vous devez choisir un¬∑e stagiaire entre deux candidats. Le premier a des comp√©tences techniques l√©g√®rement sup√©rieures. Le second a moins d'exp√©rience mais a surmont√© des obstacles personnels importants pour en arriver l√† et fait preuve d'une motivation exceptionnelle.", options: { A: "Vous basez votre d√©cision sur les r√©sultats √† des tests techniques standardis√©s et sur la correspondance exacte des comp√©tences avec les besoins du poste.", B: "Vous organisez un deuxi√®me entretien informel avec chacun pour mieux comprendre leur parcours et leur personnalit√©, et voir lequel s'int√©grerait le mieux dans l'√©quipe.", C: "Vous choisissez le second candidat, estimant que donner sa chance √† quelqu'un qui a fait preuve de tant de pers√©v√©rance est juste et align√© avec les valeurs d'√©galit√© des chances de l'entreprise." }},
        { question: "La Rumeur - Situation : Une rumeur n√©gative et infond√©e sur un coll√®gue que vous n'appr√©ciez pas personnellement commence √† circuler dans l'open space. Son moral en prend un coup.", options: { A: "Vous ignorez la rumeur mais documentez ses impacts sur l'ambiance de travail au cas o√π vous seriez convoqu√© pour en parler par la direction.", B: "Vous allez voir votre coll√®gue pour lui dire que vous avez entendu des choses et lui demander comment il va, lui offrant votre soutien m√™me si vous n'√™tes pas proches.", C: "Vous confrontez la personne √† l'origine de la rumeur et exigez qu'elle cesse, et vous corrigez publiquement les informations erron√©es lorsque vous les entendez." }},
        { question: "Le Partenariat Strat√©gique - Situation : Votre startup a l'opportunit√© de former un partenariat strat√©gique avec un g√©ant du secteur. Cependant, leur culture d'entreprise (agressive, comp√©titive) est aux antipodes de la v√¥tre (collaborative, bienveillante).", options: { A: "Vous listez les avantages business concrets (acc√®s au march√©, ressources) et les risques culturels, et proposez un contrat tr√®s pr√©cis pour prot√©ger votre culture.", B: "Vous organisez des ateliers communs avec des membres des deux entreprises pour voir si un terrain d'entente et un respect mutuel peuvent √™tre trouv√©s avant de signer.", C: "Vous d√©clinez l'offre, estimant que pr√©server l'√¢me et le bien-√™tre de vos employ√©s est plus important que la croissance √† tout prix." }},
        { question: "L'H√©ritage Culturel - Situation : Vous √™tes architecte. On vous demande de r√©nover un b√¢timent historique embl√©matique en y ajoutant une extension moderne. La famille de l'architecte original s'oppose farouchement √† tout changement.", options: { A: "Vous r√©alisez une mod√©lisation 3D pr√©cise de plusieurs propositions d'extensions pour visualiser l'impact et choisir l'option la plus harmonieuse et respectueuse de la structure originale.", B: "Vous invitez la famille √† participer √† des r√©unions de conception pour comprendre leurs craintes et incorporer leurs id√©es dans le projet, cherchant un compromis.", C: "Vous proposez une conception qui ne modifie en rien le b√¢timent original mais cr√©e une nouvelle structure souterraine ou ind√©pendante reli√©e de fa√ßon subtile, respectant ainsi l'int√©grit√© de l'≈ìuvre initiale." }},
        { question: "Le D√©lai Impossible - Situation : Votre client vous demande de livrer un projet crucial une semaine avant la date convenue contractuellement. C'est techniquement possible mais cela imposera des heures suppl√©mentaires non pay√©es et un burn-out certain √† votre petite √©quipe.", options: { A: "Vous calculez le co√ªt exact des heures suppl√©mentaires, l'impact sur la qualit√© et les risques d'√©puisement, et proposez une date de livraison interm√©diaire plus r√©aliste.", B: "Vous expliquez la situation √† votre √©quipe et leur demande s'ils sont pr√™ts √† faire cet effort exceptionnel, en leur promettant des jours de repos compensatoires et une prime si le client accepte de payer un rush.", C: "Vous refusez poliment mais fermement, expliquant que vous vous engagez √† respecter le bien-√™tre de vos employ√©s et que vous ne pouvez pas accepter des conditions de travail aussi d√©l√©t√®res." }},
        { question: "Le Whistleblower - Situation : Vous avez des preuves concr√®tes que votre entreprise rejette ill√©galement des d√©chets toxiques. Signaler cela d√©truira l'entreprise et des centaines d'emplois. Se taire permet de pr√©server les emplois mais nuit √† l'environnement et √† la sant√© publique.", options: { A: "Vous rassemblez secr√®tement toutes les preuves et consultez un avocat pour √©valuer les implications juridiques pour vous et l'entreprise, et les proc√©dures de signalement prot√©g√©.", B: "Vous allez confronter la direction en priv√© avec vos preuves, en leur donnant un ultimatum pour arr√™ter et nettoyer, sous peine de tout r√©v√©ler, pour tenter de sauver √† la fois l'emploi et l'environnement.", C: "Vous signalez imm√©diatement les agissements aux autorit√©s comp√©tentes, estimant que la protection de l'environnement et de la sant√© publique est une obligation qui transcende toute autre consid√©ration." }},
        { question: "Le Choix du Cadeau - Situation : Vous devez choisir un cadeau corporate pour tous les clients. Votre responsable marketing veut un objet high-tech et cher pour impressionner. Votre responsable RSE propose un cadeau √©co-responsable, fait localement, mais moins tape-√†-l'≈ìil.", options: { A: "Vous commandez une √©tude rapide pour savoir quel type de cadeau a le meilleur taux de r√©tention et de perception positive aupr√®s de votre cible client√®le.", B: "Vous organisez un vote parmi un panel de clients fid√®les pour choisir entre plusieurs options, les impliquant dans la d√©cision.", C: "Vous choisissez l'option √©co-responsable, align√© avec les valeurs affich√©es de l'entreprise, m√™me si elle est moins prestigieuse, pour √™tre coh√©rent." }},
        { question: "L'IA G√©n√©ratrice - Situation : Vous √™tes artiste. Un client vous commande une illustration \"dans votre style\". Utiliser une IA vous permettrait de la produire en 10 minutes au lieu de 10 heures. Le client ne saura jamais la diff√©rence.", options: { A: "Vous testez l'IA pour g√©n√©rer une base, puis vous passez des heures √† la retravailler manuellement pour lui donner une √¢me et corriger les d√©fauts, en rationalisant le processus sans le tromper.", B: "Vous expliquez au client les possibilit√©s et limites de l'IA et lui proposez deux tarifs : un pour une ≈ìuvre 100% manuelle, un autre moins cher pour une ≈ìuvre assist√©e par IA.", C: "Vous d√©clinez l'utilisation de l'IA et cr√©ez l'≈ìuvre manuellement, estimant que vendre une image g√©n√©r√©e par IA comme √©tant de \"votre main\" est une tromperie sur la marchandise." }},
        { question: "Le Mauvais Num√©ro - Situation : Vous recevez un SMS qui n'√©tait pas destin√© √† vous, contenant des informations personnelles et potentiellement g√™nantes sur un inconnu. La personne qui a envoy√© le message r√©alise son erreur et vous supplie de tout effacer.", options: { A: "Vous √©valuez le niveau de sensibilit√© des informations. Si c'est b√©nin, vous effacez. Si c'est grave (ex: fraude), vous conservez une preuve avant de r√©pondre.", B: "Vous r√©pondez √† la personne pour la rassurer, lui confirmer que vous avez effac√© le message et que son secret est en s√©curit√© avec vous.", C: "Vous effacez imm√©diatement le message sans le lire en entier et r√©pondez \"Message re√ßu par erreur, effac√©. Bonne journ√©e.\" pour respecter la vie priv√©e sans ambigu√Øt√©." }},
        { question: "Le Changement de Cap - Situation : Votre entreprise de jouets en bois artisanaux conna√Æt un succ√®s mod√©r√©. Un grand distributeur propose une commande massive, mais exige que vous passiez √† une production industrialis√©e en plastique pour baisser les co√ªts.", options: { A: "Vous calculez si le volume de la commande permettrait de garder une production artisanale en bois √† plus grande √©chelle tout en restant rentable, et proposez ce compromis.", B: "Vous consultez vos employ√©s et vos clients fid√®les pour conna√Ætre leur avis sur ce changement radical d'identit√© et de valeurs.", C: "Vous refusez l'offre, expliquant que l'artisanat, le bois et la qualit√© sont l'ADN de votre marque, et que vous pr√©f√©rez rester fid√®le √† votre mission initiale." }},
        { question: "Le Test R√©ussi... ou Presque - Situation : Vous √™tes enseignant¬∑e. Vous surprenez votre meilleur √©l√®ve, normalement tr√®s honn√™te, en train de tricher √† une interrogation. Il vient de vivre un drame familial et cette note est cruciale pour son orientation.", options: { A: "Vous lui mettez un 0 pour la copie, mais vous lui proposez un devoir suppl√©mentaire ou un oral de rattrapage pour lui permettre de sauver sa moyenne sans valider la triche.", B: "Vous le prenez √† part apr√®s le cours pour en discuter, comprendre ses raisons, et trouver ensemble une solution qui pr√©serve sa dignit√© et son avenir tout en reconnaissant son erreur.", C: "Vous lui mettez la note de 0 sans possibilit√© de rattrapage, comme le stipule le r√®glement int√©rieur, estimant que les circonstances att√©nuantes ne peuvent excuser un acte de malhonn√™tet√© acad√©mique." }}
    ],
    'quiz3': [
        { question: "Le Projet en P√©ril - Situation : Vous √™tes chef de projet. Un de vos meilleurs √©l√©ments, sur qui repose la livraison d'un projet crucial, vous annonce qu'il doit s'absenter pour une dur√©e ind√©termin√©e pour une urgence familiale. Le d√©lai est inflexible.", options: { A: "Vous √©valuez imm√©diatement les comp√©tences restantes dans l'√©quipe, identifiez les t√¢ches critiques et proposez une redistribution r√©aliste des responsabilit√©s en reportant les t√¢ches non essentielles.", B: "Vous r√©unissez l'√©quipe pour expliquer la situation, leur demander leur avis et voir qui serait pr√™t et capable de prendre en charge une partie suppl√©mentaire du travail, en promettant votre soutien total.", C: "Vous contactez le client pour lui expliquer la situation avec transparence, lui proposer un nouveau calendrier r√©aliste et assumer les √©ventuels p√©nalit√©s de retard stipul√©es au contrat." }},
        { question: "Le Cadeau Empoisonn√© - Situation : Lors d'un s√©minaire, un partenaire d'affaires tr√®s influent vous offre un cadeau d'une valeur bien sup√©rieure √† celle autoris√©e par la charte anti-corruption de votre entreprise.", options: { A: "Vous acceptez le cadeau pour ne pas l'offenser sur le moment, puis vous le d√©clarez imm√©diatement au service de compliance de votre entreprise pour qu'ils d√©cident de la marche √† suivre.", B: "Vous le remerciez chaleureusement pour sa pens√©e mais vous refusez poliment le cadeau en lui expliquant les strictes r√®gles de votre entreprise, afin de prot√©ger sa r√©putation et la v√¥tre.", C: "Vous refusez cat√©goriquement le cadeau en citant directement l'article de la charte √©thique qui l'interdit, et vous signalez l'incident par √©crit √† votre sup√©rieur hi√©rarchique." }},
        { question: "Le Code de la Concurrence - Situation : Lors d'une conf√©rence, un concurrent ivre vous r√©v√®le par inadvertance la strat√©gie de lancement de son prochain produit phare, qui est tr√®s similaire au v√¥tre pr√©vu dans 6 mois.", options: { A: "Vous notez mentalement les informations mais n'agissez pas imm√©diatement. Vous planifiez une r√©union d'urgence avec votre √©quipe pour r√©√©valuer votre propre planning et strat√©gie √† la lumi√®re de ces informations.", B: "Vous aidez le concurrent √† regagner sa chambre d'h√¥tel. Le lendemain, vous l'appelez pour vous assurer qu'il va bien et lui faire discr√®tement part de sa confidence de la veille, sans exploiter l'information.", C: "Vous choisissez d'ignorer compl√®tement l'information. Vous pr√©venez m√™me le concurrent, une fois sobri√©t√© retrouv√©e, qu'il a √©t√© imprudent, pour garantir une comp√©tition loyale." }},
        { question: "L'Avantage Injuste - Situation : Vous participez √† un appel d'offres tr√®s important. Par une erreur de l'organisateur, vous recevez par email les propositions techniques de tous les autres concurrents.", options: { A: "Vous n'ouvrez pas les pi√®ces jointes et vous contactez imm√©diatement l'organisateur pour lui signaler la fuite, en lui demandant des instructions claires sur la proc√©dure √† suivre pour garantir l'√©quit√©.", B: "Vous contactez directement les principaux concurrents que vous connaissez pour les avertir de la fuite, leur permettant de se repositionner si n√©cessaire, et ensemble vous alertez l'organisateur.", C: "Vous supprimez imm√©diatement l'email sans enregistrer les pi√®ces jointes et vous continuez √† pr√©parer votre proposition comme si de rien n'√©tait, basant votre succ√®s uniquement sur votre propre travail." }},
        { question: "Le Dilemme √âcologique - Situation : Votre usine respecte toutes les normes environnementales l√©gales. Cependant, une nouvelle technologie co√ªteuse mais non obligatoire permettrait de r√©duire vos √©missions de CO¬≤ de 90%. Son investissement mettrait en p√©ril la rentabilit√© du site.", options: { A: "Vous calculez le co√ªt total de l'investissement, les √©conomies √† long terme sur les taxes carbones et l'impact potentiel sur l'image de marque, pour pr√©senter une proposition business compl√®te.", B: "Vous consultez les employ√©s de l'usine et les habitants de la localit√© pour conna√Ætre leur opinion et voir s'ils sont pr√™ts √† soutenir des efforts qui pourraient impacter l'emploi local.", C: "Vous d√©cidez d'investir dans la technologie, estimant que le respect de l'environnement d√©passe le cadre l√©gal et que c'est la responsabilit√© morale de l'entreprise, malgr√© le risque financier." }},
        { question: "Le Conflit d'Int√©r√™ts - Situation : Vous devez choisir un sous-traitant pour un gros march√©. Votre cousin, que vous appr√©ciez beaucoup, soumissionne. Sa proposition est bonne, mais pas la meilleure.", options: { A: "Vous demandez √† un coll√®gue neutre de reprendre l'analyse des offres en aveugle, sans les noms, pour prendre une d√©cision purement objective dont vous serez simplement l'ex√©cutant.", B: "Vous expliquez la situation √† votre cousin en priv√©, lui montrant en quoi son offre est moins competitive, et vous l'aidez √† retravailler sa proposition pour de futurs appels d'offres.", C: "Vous choisissez l'offre objectivement la meilleure et vous d√©clarez officiellement votre lien de parent√© avec l'un des soumissionnaires au service achats pour √©viter tout conflit d'int√©r√™ts." }},
        { question: "La Promesse Non Contractuelle - Situation : Un client important vous rappelle une promesse orale que vous lui avez faite lors d'une n√©gociation il y a 6 mois, mais qui n'a pas √©t√© int√©gr√©e au contrat sign√©. Tenir sa promesse vous co√ªterait cher.", options: { A: "Vous revisitez les emails et notes de meeting pour trouver une trace √©crite de cette promesse. Si rien n'existe, vous √©valuez le co√ªt de la satisfaction du client versus le risque de le perdre.", B: "Vous rencontrez le client pour reconna√Ætre votre parole et lui proposer un compromis : honorer une partie de la promesse sur ce contrat et int√©grer le reste dans le prochain.", C: "Vous d√©cidez d'honorer int√©gralement votre parole, m√™me si elle n'est pas contractuelle, estimant que votre int√©grit√© et la confiance √† long terme avec ce client valent plus que le co√ªt imm√©diat." }},
        { question: "L'Innovation Risqu√©e - Situation : Votre √©quipe R&D a d√©velopp√© une innovation de rupture qui pourrait rendre obsol√®te le produit principal et le plus rentable de votre entreprise.", options: { A: "Vous commandez une √©tude de march√© pouss√©e pour mod√©liser le cannibalisation potentielle du produit existant et le nouveau march√© que l'innovation pourrait cr√©er.", B: "Vous organisez des ateliers avec les √©quipes des deux produits pour cr√©er une roadmap commune et une strat√©gie de transition qui valorise les deux technologies.", C: "Vous pr√©sentez l'innovation au conseil d'administration sans ambages, arguant que ne pas le faire nuirait √† l'avenir de l'entreprise et trahirait sa mission d'innovation." }},
        { question: "Le Salari√© en Difficult√© - Situation : Un membre de votre √©quipe, performant depuis des ann√©es, voit sa productivit√© chuter brutalement depuis quelques semaines. Vous suspectez un probl√®me personnel.", options: { A: "Vous analysez objectivement l'impact de sa baisse de performance sur les projets en cours et pr√©parez un plan de redistribution temporaire des t√¢ches pour limiter les d√©g√¢ts.", B: "Vous l'invitez √† prendre un caf√© pour lui demander comment il va, en lui offrant une √©coute bienveillante et votre soutien, sans le presser de parler.", C: "Vous lui rappelez ses objectifs et responsabilit√©s, mais vous lui proposez imm√©diatement de prendre quelques jours de cong√© ou de consulter le m√©decin du travail pour faire le point, en insistant sur l'importance de son bien-√™tre." }},
        { question: "L'Erreur d'un Subalterne - Situation : Un membre junior de votre √©quipe a commis une erreur qui a co√ªt√© 15 000 ‚Ç¨ √† l'entreprise. Votre propre manager vous demande des explications.", options: { A: "Vous pr√©sentez √† votre manager une analyse factuelle de l'erreur, son impact financier, et un plan d√©taill√© pour √©viter que cela ne se reproduise, sans mentionner le nom du junior.", B: "Vous assumez la responsabilit√© collective de l'erreur avec le junior, vous pr√©sentez des excuses √† votre manager et vous proposez un plan de formation pour toute l'√©quipe.", C: "Vous nommez le responsable de l'erreur √† votre manager, mais vous d√©fendez le junior en expliquant son manque d'exp√©rience et en proposant que vous partagiez la sanction pour avoir mal supervis√©." }},
        { question: "La D√©cision Impopulaire - Situation : La direction d√©cide une restructuration qui entra√Ænera des suppressions de postes dans votre service. Vous devez annoncer la nouvelle √† votre √©quipe.", options: { A: "Vous pr√©parez une pr√©sentation claire avec les raisons √©conomiques derri√®re la d√©cision, le processus de s√©lection et le plan de support pour les personnes concern√©es (outplacement, etc.).", B: "Vous annoncez la nouvelle avec empathie, vous laissez un temps pour les questions et les √©motions, et vous proposez des entretiens individuels imm√©diats pour chacun des membres de l'√©quipe.", C: "Vous annoncez la d√©cision en assumant pleinement votre r√¥le de manager, vous exprimez votre d√©saccord si vous n'√™tes pas d'accord avec elle, et vous vous engagez personnellement √† accompagner chacun vers la meilleure issue possible." }},
        { question: "Le Brevet Contestable - Situation : En d√©posant un brevet, votre service juridique s'aper√ßoit que votre invention s'inspire fortement d'un concept open source mal document√©. Poursuivre le d√©p√¥t pourrait mener √† un litige.", options: { A: "Vous mandatez une recherche ant√©rieure approfondie pour cartographier pr√©cis√©ment l'ant√©riorit√© de l'id√©e et √©valuer le risque r√©el et le co√ªt potentiel d'un √©ventuel litige.", B: "Vous contactez les mainteneurs du projet open source pour leur proposer un partenariat ou une licence commune, reconnaissant leur contribution initiale.", C: "Vous abandonnez le d√©p√¥t du brevet et vous publiez votre innovation en open source √† votre tour, estimant que c'est la mani√®re la plus juste de rendre √† la communaut√©." }},
        { question: "Le Choix du Fournisseur - Situation : Vous devez choisir entre un fournisseur local plus cher mais qui emploie des personnes en r√©insertion, et un fournisseur √©tranger moins cher aux pratiques sociales opaques.", options: { A: "Vous calculez le surco√ªt exact du fournisseur local et √©valuez son impact sur le prix de vente final et la comp√©titivit√© du produit.", B: "Vous visitez les deux fournisseurs pour vous faire une id√©e concr√®te de leurs conditions de travail et vous consultez vos employ√©s sur le choix qui correspond le mieux aux valeurs de l'entreprise.", C: "Vous choisissez le fournisseur local, alignant la d√©cision d'achat sur la politique RSE de l'entreprise, m√™me si cela r√©duit la marge b√©n√©ficiaire √† court terme." }},
        { question: "L'Heure Suppl√©mentaire Obligatoire - Situation : Pour respecter un d√©lai, vous devez demander √† votre √©quipe de faire des heures suppl√©mentaires non pay√©es (au forfait) ce week-end. Ils sont d√©j√† fatigu√©s.", options: { A: "Vous listez les t√¢ches absolument critiques pour la livraison et proposez de ne faire des heures que sur ces points pr√©cis, en reportant le reste.", B: "Vous organisez une r√©union pour expliquer la situation critique et leur demander s'ils sont d'accord pour un effort exceptionnel, en promettant des jours de r√©cup√©ration la semaine suivante.", C: "Vous refusez d'imposer des heures non pay√©es. Vous n√©gociez avec le client un d√©lai suppl√©mentaire ou une p√©nalit√© r√©duite, ou vous assumez de payer les heures suppl√©mentaires de votre poche (si possible) pour respecter le bien-√™tre de l'√©quipe." }},
        { question: "La Critique Publique - Situation : Lors d'une r√©union publique, un client critique violemment et injustement le travail d'un membre de votre √©quipe, pr√©sent dans la salle.", options: { A: "Vous intervenez pour recentrer le d√©bat sur les faits et les donn√©es, en proposant de reprendre la discussion en priv√© apr√®s la r√©union pour trouver une solution constructive.", B: "Vous d√©fendez imm√©diatement votre collaborateur en public, en reconnaissant son travail et son expertise, et vous invitez le client √† exprimer ses frustrations de mani√®re plus respectueuse.", C: "Vous interrompez poliment mais fermement le client pour condamner son ton irrespectueux, en affirmant que le dialogue within votre entreprise se fait dans le respect de chacun, et vous proposez de faire une pause." }},
        { question: "La D√©couverte Fortuite - Situation : En testant un logiciel, vous d√©couvrez par hasard une faille de s√©curit√© majeure dans un produit tr√®s populaire d'un autre √©diteur. La divulguer pourrait faire votre r√©putation de white hat hacker, mais aussi causer des probl√®mes avant qu'un correctif ne soit pr√™t.", options: { A: "Vous documentez scrupuleusement la faille et vous contactez discr√®tement l'√©diteur concern√© en lui donnant un d√©lai raisonnable pour corriger le probl√®me avant toute publication.", B: "Vous proposez vos services √† l'√©diteur comme consultant pour les aider √† corriger la faille rapidement et efficacement, contre r√©mun√©ration.", C: "Vous publiez imm√©diatement la faille en mode \"full disclosure\" pour forcer une correction rapide et prot√©ger imm√©diatement les utilisateurs, au risque de nuire √† l'√©diteur." }},
        { question: "L'Ordre Contraire √† l'√âthique - Situation : Votre sup√©rieur hi√©rarchique vous ordonne explicitement de minimiser un d√©faut de conception dans votre rapport au client, un d√©faut qui pourrait avoir des cons√©quences s√©curit√© √† long terme.", options: { A: "Vous r√©digez un email √† votre sup√©rieur (pour trace √©crite) r√©sumant son instruction et lui demandant confirmation, en listant les risques potentiels que vous avez identifi√©s.", B: "Vous allez en parler √† votre sup√©rieur pour comprendre la pression qu'il subit et vous lui proposez de co-√©crire un rapport qui dit la v√©rit√© tout en proposant un plan d'action pour mitiger le probl√®me.", C: "Vous incluez toutes les informations sur le d√©faut dans votre rapport final, en copiant si n√©cessaire le service qualit√© ou l'√©thique de l'entreprise, et vous assumez les potentielles cons√©quences pour avoir d√©sob√©i." }},
        { question: "Le Pari Technologique - Situation : Votre entreprise doit migrer vers un nouveau syst√®me logiciel. Vous avez le choix entre une solution √©prouv√©e mais ancienne, et une nouvelle solution disruptive mais non test√©e √† grande √©chelle.", options: { A: "Vous organisez un Proof of Concept (POC) pour tester la nouvelle solution sur un p√©rim√®tre limit√© et non critique, afin de recueillir des donn√©es tangibles pour la d√©cision.", B: "Vous consultez les √©quipes qui utiliseront le syst√®me au quotidien pour conna√Ætre leurs pr√©f√©rences, leurs craintes et leur app√©tence pour le risque et le changement.", C: "Vous recommandez la solution √©prouv√©e, arguant que la prudence est de mise pour ne pas mettre en p√©ril la stabilit√© op√©rationnelle de l'entreprise et la s√©curit√© des donn√©es." }},
        { question: "Le Mauvais Exemple - Situation : Vous surprenez un manager tr√®s respect√© et performant dans l'entreprise en train de mentir √† un client au t√©l√©phone pour sauver une vente.", options: { A: "Vous notez la date, l'heure et le contenu du mensonge. Vous attendez d'avoir des preuves solides et un contexte plus large avant d'envisager toute action.", B: "Vous allez en parler avec le manager en priv√© plus tard, pour lui exprimer votre malaise et l'encourager √† trouver une solution plus honn√™te avec le client.", C: "Vous signalez l'incident √† la direction ou au service de compliance, car le comportement d'un manager senior envoie un message inacceptable sur la culture de l'entreprise." }},
        { question: "L'√âquilibre Vie Pro/Vie Perso - Situation : Un employ√© mod√®le, toujours le premier √† arriver et le dernier √† partir, commence √† montrer des signes d'√©puisement (irritabilit√©, erreurs). Il refuse d'admettre √™tre surmen√©.", options: { A: "Vous analysez sa charge de travail et imposez une redistribution objective de certaines de ses t√¢ches √† d'autres membres de l'√©quipe pour all√©ger son volume, sans son accord pr√©alable.", B: "Vous lui offrez votre √©coute sans jugement, vous partagez peut-√™tre une exp√©rience personnelle similaire, et vous lui proposez de l'aide pour mieux prioriser ou de consulter un coach.", C: "Vous utilisez votre autorit√© de manager pour lui ordonner de prendre une semaine de cong√© obligatoire pour se reposer et revenir avec un avis m√©dical, priorisant sa sant√© sur son consentement imm√©diat." }}
    ]
};

/**
 * Normalise et charge l'√©tat de l'utilisateur depuis localStorage.
 * Initialise l'√©tat si l'utilisateur est nouveau.
 */
function loadUserState() {
    if (!userStates[currentUser]) {
        userStates[currentUser] = {
            quiz1: { answers: Array(MAX_QUESTIONS).fill(null), score: null, quizCompleted: false, quizType: 'quiz1' },
            quiz2: { answers: Array(MAX_QUESTIONS).fill(null), score: null, quizCompleted: false, quizType: 'quiz2' },
            quiz3: { answers: Array(MAX_QUESTIONS).fill(null), score: null, quizCompleted: false, quizType: 'quiz3' }
        };
    }
}

/**
 * Sauvegarde l'√©tat actuel de l'utilisateur dans localStorage.
 */
function saveUserState() {
    localStorage.setItem('userStates', JSON.stringify(userStates));
}

/**
 * S√©lectionne l'utilisateur et met √† jour l'interface.
 */
function selectUser() {
    const userSelect = document.getElementById('userSelect');
    currentUser = userSelect.value;
    const welcomeMessage = document.getElementById('welcomeMessage');
    const quizSelection = document.getElementById('quizSelection');
    const quizStatus = document.getElementById('quizStatus');
    
    if (currentUser) {
        loadUserState();
        welcomeMessage.textContent = `Bienvenue, ${currentUser} !`;
        welcomeMessage.classList.add('show');
        quizSelection.style.display = 'block';

        const quiz1State = userStates[currentUser].quiz1;
        const quiz2State = userStates[currentUser].quiz2;
        const quiz3State = userStates[currentUser].quiz3;

        document.querySelectorAll('.quiz-choice').forEach(btn => btn.classList.remove('active-choice'));
        quizStatus.style.display = 'none';
        
        let preferredQuiz = null;

        // V√©rifier l'√©tat de chaque quiz pour d√©terminer le quiz pr√©f√©r√©
        if (quiz1State.quizCompleted || quiz1State.answers.some(a => a !== null)) {
            preferredQuiz = 'quiz1';
        } else if (quiz2State.quizCompleted || quiz2State.answers.some(a => a !== null)) {
            preferredQuiz = 'quiz2';
        } else if (quiz3State.quizCompleted || quiz3State.answers.some(a => a !== null)) {
            preferredQuiz = 'quiz3';
        }

        if (preferredQuiz) {
            currentQuizType = preferredQuiz;
            document.querySelector(`.quiz-choice[onclick="selectQuiz('${preferredQuiz}')"]`).classList.add('active-choice');
            updateQuizStatusMessage();
            updateNavigationButtons(true);
        } else {
            currentQuizType = null;
            updateNavigationButtons(false);
        }

    } else {
        welcomeMessage.classList.remove('show');
        quizSelection.style.display = 'none';
        quizStatus.style.display = 'none';
        updateNavigationButtons(false);
    }
    
    showSection('accueil');
}

/**
 * Met √† jour le message d'√©tat du quiz et l'√©tat des boutons de navigation.
 */
function updateQuizStatusMessage() {
    if (!currentUser || !currentQuizType) return;
    
    const quizState = userStates[currentUser][currentQuizType];
    const quizStatus = document.getElementById('quizStatus');
    const navQuiz = document.getElementById('nav-quiz');
    const navSrg = document.getElementById('nav-srg');
    const navAnalyse = document.getElementById('nav-analyse');
    const currentQuizData = QUIZ_DATA[currentQuizType];

    quizStatus.style.display = 'block';

    if (quizState.quizCompleted) {
        quizStatus.textContent = `Quiz ${currentQuizType.slice(-1)} termin√©. Vous pouvez voir vos r√©sultats ou le refaire.`;
        navQuiz.style.display = 'block';
        navSrg.style.display = 'block';
        navAnalyse.style.display = 'block';
        navQuiz.textContent = 'Refaire le Quiz';
    } else {
        const answeredCount = quizState.answers.filter(a => a !== null).length;
        if (answeredCount > 0) {
            quizStatus.textContent = `Quiz ${currentQuizType.slice(-1)} en cours : ${answeredCount} / ${currentQuizData.length} questions r√©pondues.`;
        } else {
            quizStatus.textContent = `Quiz ${currentQuizType.slice(-1)} pr√™t. Cliquez sur "Questions" pour commencer.`;
        }
        navQuiz.style.display = 'block';
        navSrg.style.display = 'none';
        navAnalyse.style.display = 'block';
        navQuiz.textContent = 'Questions';
    }
}

/**
 * S√©lectionne le type de quiz.
 */
function selectQuiz(quizType) {
    currentQuizType = quizType;
    document.querySelectorAll('.quiz-choice').forEach(btn => btn.classList.remove('active-choice'));
    document.querySelector(`.quiz-choice[onclick="selectQuiz('${quizType}')"]`).classList.add('active-choice');
    
    if (currentUser) {
        updateQuizStatusMessage();
        updateNavigationButtons(true);
    }
}

/**
 * Affiche la section sp√©cifi√©e et met √† jour la navigation.
 */
function showSection(sectionId) {
    document.querySelectorAll('section').forEach(section => section.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');

    document.querySelectorAll('nav button').forEach(button => button.classList.remove('active'));
    document.getElementById(`nav-${sectionId}`).classList.add('active');

    if (sectionId === 'quiz') {
        renderQuiz();
    } else if (sectionId === 'srg' && userStates[currentUser][currentQuizType].quizCompleted) {
        // Recalculer et afficher les r√©sultats (important pour l'affichage)
        const results = calculateSRGScore();
        if (results) {
            displaySRGResults(results.finalResults);
            topAttributes = results.topAttributes;
            displayAnalyseResults();
        }
    } else if (sectionId === 'analyse') {
        displayAnalyseResults();
    }
}

/**
 * Affiche la question actuelle dans le conteneur du quiz.
 */
function renderQuiz() {
    if (!currentUser || !currentQuizType || !QUIZ_DATA[currentQuizType]) return;

    const quizContainer = document.getElementById('quizContainer');
    const nextButton = document.getElementById('nextButton');
    const prevButton = document.getElementById('prevButton');
    const quizState = userStates[currentUser][currentQuizType];
    const currentQuizData = QUIZ_DATA[currentQuizType];
    
    if (quizState.quizCompleted) {
        // Red√©marrer si le quiz est termin√©
        currentQuestionIndex = 0;
        quizState.answers = Array(MAX_QUESTIONS).fill(null);
        quizState.quizCompleted = false;
        saveUserState();
        updateQuizStatusMessage();
    }

    currentQuestionIndex = Math.max(0, quizState.answers.findIndex(a => a === null));

    if (currentQuestionIndex >= currentQuizData.length) {
        currentQuestionIndex = currentQuizData.length - 1;
    }

    const question = currentQuizData[currentQuestionIndex];
    const questionNumber = currentQuestionIndex + 1;
    const answeredValue = quizState.answers[currentQuestionIndex];
    
    document.getElementById('quizTitle').textContent = `Quiz ${currentQuizType.slice(-1)} : Question ${questionNumber}`;
    
    let html = `
        <div class="question-card">
            <h3><span class="question-number">${questionNumber}</span>Situation</h3>
            <p>${question.question}</p>
    `;
    
    Object.keys(question.options).forEach(key => {
        const optionText = question.options[key];
        const checked = (key === answeredValue) ? 'checked' : '';
        html += `
            <div class="option">
                <label>
                    <input type="radio" name="q${questionNumber}" value="${key}" ${checked} onchange="saveAnswer('${key}')">
                    <span>${optionText}</span>
                </label>
            </div>
        `;
    });

    html += `</div>`;
    quizContainer.innerHTML = html;

    // Mettre √† jour la barre de progression
    const answeredCount = quizState.answers.filter(a => a !== null).length;
    document.getElementById('progressBar').style.width = `${(answeredCount / MAX_QUESTIONS) * 100}%`;

    // Mettre √† jour les boutons de navigation
    nextButton.textContent = (questionNumber < MAX_QUESTIONS) ? `Question Suivante (${answeredCount + 1}/${MAX_QUESTIONS})` : 'Calculer Mon Score SRG';
    nextButton.onclick = (questionNumber < MAX_QUESTIONS) ? nextQuestion : submitQuiz;
    prevButton.style.display = (questionNumber > 0 && currentQuestionIndex > 0) ? 'inline-block' : 'none';
}

/**
 * Enregistre la r√©ponse s√©lectionn√©e pour la question actuelle.
 */
function saveAnswer(value) {
    userStates[currentUser][currentQuizType].answers[currentQuestionIndex] = value;
    saveUserState();
    document.getElementById('validationMessage').style.display = 'none';
    
    const answeredCount = userStates[currentUser][currentQuizType].answers.filter(a => a !== null).length;
    document.getElementById('progressBar').style.width = `${(answeredCount / MAX_QUESTIONS) * 100}%`;
    document.getElementById('nextButton').textContent = (currentQuestionIndex < MAX_QUESTIONS - 1) ? `Question Suivante (${answeredCount + 1}/${MAX_QUESTIONS})` : 'Calculer Mon Score SRG';
}

/**
 * Passe √† la question suivante (avec validation).
 */
function nextQuestion() {
    const quizState = userStates[currentUser][currentQuizType];
    const currentQuestionName = `q${currentQuestionIndex + 1}`;
    const selected = document.querySelector(`input[name="${currentQuestionName}"]:checked`);
    const validationMessage = document.getElementById('validationMessage');

    // --- Validation du Non-Choix ---
    if (!selected) {
        validationMessage.style.display = 'block';
        return;
    }

    validationMessage.style.display = 'none';
    
    if (currentQuestionIndex < MAX_QUESTIONS - 1) {
        currentQuestionIndex++;
        renderQuiz();
    }
}

/**
 * Passe √† la question pr√©c√©dente.
 */
function prevQuestion() {
    if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuiz();
    }
}

/**
 * Soumet le quiz, calcule le score et affiche les r√©sultats.
 */
function submitQuiz() {
    const quizState = userStates[currentUser][currentQuizType];
    const currentQuestionName = `q${currentQuestionIndex + 1}`;
    const selected = document.querySelector(`input[name="${currentQuestionName}"]:checked`);
    const validationMessage = document.getElementById('validationMessage');

    // Validation finale
    if (!selected) {
        validationMessage.style.display = 'block';
        return;
    }
    
    validationMessage.style.display = 'none';

    // Marquer comme termin√© et sauvegarder
    quizState.quizCompleted = true;
    saveUserState();
    updateQuizStatusMessage();

    // Calcul du score et affichage
    const results = calculateSRGScore();
    if (results) {
        displaySRGResults(results.finalResults);
        topAttributes = results.topAttributes;
        displayAnalyseResults();
    }
    showSection('srg');
}

// --- Fonctions Math√©matiques pour la Formule SRG Avanc√©e ---

/** Calcule la variance d'un tableau de nombres. */
function variance(arr) {
    if (arr.length === 0) return 0;
    const mean = arr.reduce((a, b) => a + b, 0) / arr.length;
    return arr.map(x => (x - mean) ** 2).reduce((a, b) => a + b, 0) / arr.length;
}

/** Calcule le produit scalaire pond√©r√© <u, p_j>_W. */
function weightedDotProduct(u, p_j, W) {
    return u.reduce((sum, u_i, i) => sum + u_i * p_j[i] * W[i] ** 2, 0);
}

/** Calcule la norme pond√©r√©e ||v||_W. */
function weightedNorm(v, W) {
    return Math.sqrt(v.reduce((sum, v_i, i) => sum + v_i ** 2 * W[i] ** 2, 0));
}

/** Calcule le Coefficient de Variation (CV) pour le facteur de diversit√©. */
function coefficientOfVariation(u, epsilon) {
    const mean = u.reduce((a, b) => a + b, 0) / u.length;
    if (Math.abs(mean) < epsilon) return 0;
    const stdDev = Math.sqrt(variance(u));
    return stdDev / (mean + epsilon);
}

/** Calcule le facteur de dominance (alignement top-k). */
function dominanceFactor(u, p_j, k, L) {
    // Trier u et p_j pour obtenir les indices des top k et top L
    const userIndices = u.map((score, i) => ({ score, i })).sort((a, b) => b.score - a.score).slice(0, k).map(item => item.i);
    const profIndices = p_j.map((score, i) => ({ score, i })).sort((a, b) => b.score - a.score).slice(0, L).map(item => item.i);

    // Compter le chevauchement (overlap)
    const overlap = userIndices.filter(i => profIndices.includes(i)).length;

    // Dominance alignment score: |Tu intersect Tpj| / min(k, L)
    const alignment = overlap / Math.min(k, L);
    return alignment;
}


/**
 * Calcule le Score de R√©sonance Globale (SRG) en utilisant la formule de pond√©ration avanc√©e.
 */
function calculateSRGScore() {
    const quizState = userStates[currentUser][currentQuizType];
    const currentQuizMapping = QUIZ_SCORING_MAPPING[currentQuizType];

    if (!quizState.quizCompleted) return null;

    // 1. Calculer le Vecteur de Score Utilisateur (u)
    let userScores = { 'S': 0, 'R': 0, 'G': 0 };
    quizState.answers.forEach((answer, index) => {
        if (answer && currentQuizMapping[index] && currentQuizMapping[index][answer]) {
            const attr = currentQuizMapping[index][answer];
            userScores[attr] += 1;
        }
    });

    const u = ATTRIBUTES.map(attr => userScores[attr]); // u = [u_S, u_R, u_G]

    // --- Constantes Math√©matiques (Ajustables) ---
    const ALPHA = 0.55; // Poids du Log dans Diversit√©
    const BETA = 0.35;  // Plafonnement du Log dans Diversit√©
    const GAMMA = 0.28; // Poids du Facteur de Dominance
    const EPSILON = 1e-8; // Stabilit√© num√©rique
    const NORM_MIN = 30; // Min score de normalisation [a]
    const NORM_MAX = 100; // Max score de normalisation [b]
    const K_DOMINANCE = 2; // Top K attributs pour l'utilisateur
    const L_DOMINANCE = 2; // Top L attributs pour la profession

    // --- 2. Calculer le Vecteur de Poids Discriminant (W) ---
    const professionVectors = PROFESSIONS_DATA.map(p => p.P);
    const W = ATTRIBUTES.map((_, i) => {
        const attributeScores = professionVectors.map(p => p[i]);
        return Math.sqrt(variance(attributeScores));
    });

    let rawScores = [];

    // --- 3. Facteur de Diversit√© (B_div) ---
    // B_div = 1 + min(BETA, ALPHA * log(1 + CV(u)))
    const CV_u = coefficientOfVariation(u, EPSILON);
    const B_div_raw = ALPHA * Math.log(1 + CV_u);
    const B_div_term = Math.min(BETA, B_div_raw);
    const B_div = 1 + B_div_term;

    PROFESSIONS_DATA.forEach(p_j_data => {
        const p_j = p_j_data.P; // Vecteur de la profession [p_jS, p_jR, p_jG]

        // --- 4. Similarit√© Cosinus Pond√©r√©e (S_j) ---
        const weightedDot = weightedDotProduct(u, p_j, W);
        const norm_u = weightedNorm(u, W);
        const norm_p_j = weightedNorm(p_j, W);
        
        let S_j = 0;
        if (norm_u > EPSILON && norm_p_j > EPSILON) {
            S_j = weightedDot / (norm_u * norm_p_j);
            S_j = Math.max(-1, Math.min(1, S_j)); // Clip for stability
        }

        // Rescale S_j de [-1, 1] √† [0, 1] pour la combinaison
        const S_j_rescaled = (S_j + 1) / 2;

        // --- 5. Facteur de Dominance (D_j) ---
        const D_j = dominanceFactor(u, p_j, K_DOMINANCE, L_DOMINANCE);

        // --- 6. Score SRG Brut (SRG_raw) ---
        // SRG_raw = (1 - GAMMA) * S_j_rescaled * B_div + GAMMA * D_j
        const SRG_raw = (1 - GAMMA) * S_j_rescaled * B_div + GAMMA * D_j;

        rawScores.push({
            name: p_j_data.name,
            score: SRG_raw
        });
    });

    // --- 7. Normalisation Finale (SRG_j) ---
    const minRaw = Math.min(...rawScores.map(r => r.score));
    const maxRaw = Math.max(...rawScores.map(r => r.score));
    const rangeRaw = maxRaw - minRaw;
    
    // Normalisation lin√©aire sur [NORM_MIN, NORM_MAX]
    const finalResults = rawScores.map(result => {
        let normalizedScore;
        if (rangeRaw < EPSILON) {
            normalizedScore = (NORM_MAX + NORM_MIN) / 2;
        } else {
            normalizedScore = NORM_MIN + (NORM_MAX - NORM_MIN) * (result.score - minRaw) / rangeRaw;
        }
        
        return {
            name: result.name,
            score: parseFloat(normalizedScore.toFixed(1))
        };
    }).sort((a, b) => b.score - a.score); // Tri d√©croissant

    // Calcul des attributs dominants (simple comptage)
    const attrCounts = [
        { name: 'Science/Logique (S)', count: userScores.S },
        { name: 'Relationnel/√âmotion (R)', count: userScores.R },
        { name: 'Garantie/R√®gle (G)', count: userScores.G }
    ];
    const topAttributesList = attrCounts.sort((a, b) => b.count - a.count).slice(0, 3).map(a => a.name);

    return { finalResults, topAttributes: topAttributesList, userScores };
}

/**
 * Affiche les r√©sultats SRG tri√©s.
 */
function displaySRGResults(results) {
    const srgProfessionsList = document.getElementById('srgProfessionsList');
    srgProfessionsList.innerHTML = '';
    
    results.forEach((result, index) => {
        const li = document.createElement("li");
        li.className = "result-item";
        li.style.animationDelay = `${index * 0.1}s`;
        li.innerHTML = `
          <div class="item-header">
            <span class="item-name">${result.name}</span>
            <span class="item-score">${result.score}%</span>
          </div>
          <div class="progress-bar-item">
            <div class="progress-fill" style="width: ${result.score}%"></div>
          </div>
        `;
        srgProfessionsList.appendChild(li);
    });

    document.getElementById('srgMessage').style.display = 'none';
    document.getElementById('srgResultsCard').style.display = 'block';
}

/**
 * Affiche les attributs dominants dans la section Analyse.
 */
function displayAnalyseResults() {
    const attributesList = document.getElementById('attributesList');
    attributesList.innerHTML = '';
    
    // Si le quiz est compl√©t√©, utiliser les r√©sultats calcul√©s.
    if(userStates[currentUser] && userStates[currentUser][currentQuizType] && userStates[currentUser][currentQuizType].quizCompleted) {
        // La variable globale topAttributes a √©t√© mise √† jour par submitQuiz/showSection('srg')
        if (topAttributes.length > 0) {
            topAttributes.forEach((attr, index) => {
                const li = document.createElement("li");
                li.className = "attribute-tag";
                li.style.animationDelay = `${index * 0.1}s`;
                li.innerText = attr;
                attributesList.appendChild(li);
            });
        } else {
             attributesList.innerHTML = '<li class="attribute-tag" style="animation-delay: 0s;">Vos attributs dominants sont... en cours de calcul.</li>';
        }
    } else {
        // Message si non compl√©t√©
        attributesList.innerHTML = '<li class="attribute-tag" style="animation-delay: 0s;">Veuillez compl√©ter le quiz pour voir votre analyse.</li>';
    }
}

/**
 * Met √† jour l'affichage des boutons de navigation (Questions et R√©sultats).
 */
function updateNavigationButtons(showQuizNav) {
    const navQuiz = document.getElementById('nav-quiz');
    const navSrg = document.getElementById('nav-srg');
    const navAnalyse = document.getElementById('nav-analyse');
    
    navQuiz.style.display = showQuizNav ? 'block' : 'none';
    navAnalyse.style.display = showQuizNav ? 'block' : 'none';

    if (currentUser && currentQuizType && userStates[currentUser][currentQuizType].quizCompleted) {
        navSrg.style.display = 'block';
    } else {
        navSrg.style.display = 'none';
    }
}

// Initialisation de Particles.js
document.addEventListener('DOMContentLoaded', () => {
    particlesJS('particles-js', {
        "particles": {
          "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
          "color": { "value": "#ffffff" },
          "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" }, "polygon": { "nb_sides": 5 } },
          "opacity": { "value": 0.5, "random": false, "anim": { "enable": false, "speed": 1, "opacity_min": 0.1, "sync": false } },
          "size": { "value": 3, "random": true, "anim": { "enable": false, "speed": 40, "size_min": 0.1, "sync": false } },
          "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1 },
          "move": { "enable": true, "speed": 6, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false, "attract": { "enable": false, "move": 200, "rotateX": 600, "rotateY": 1200 } }
        },
        "interactivity": {
          "detect_on": "canvas",
          "events": { "onhover": { "enable": true, "mode": "grab" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
          "modes": { "grab": { "distance": 140, "line_linked": { "opacity": 1 } }, "bubble": { "distance": 400, "size": 40, "duration": 2, "opacity": 8, "speed": 3 }, "repulse": { "distance": 200, "duration": 0.4 }, "push": { "particles_nb": 4 }, "remove": { "particles_nb": 2 } }
        },
        "retina_detect": true
    });
});
</script>

</body>
</html>