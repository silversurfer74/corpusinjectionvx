<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAESTRO C2 HACK ULTIMATE - Complete Neural System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-950 text-white">
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        const { useState, useEffect } = React;
        
        const MaestroC2Ultimate = () => {
            // ==================== STATES ====================
            const [activeSection, setActiveSection] = useState('dashboard');
            const [activePanel, setActivePanel] = useState('dashboard');
            const [isPanelOpen, setIsPanelOpen] = useState(true);
            const [inputText, setInputText] = useState('');
            const [outputText, setOutputText] = useState('');
            const [themeVersion, setThemeVersion] = useState('c2');
            const [userProgress, setUserProgress] = useState({
                verbsMastered: 0,
                connectorsMastered: 0,
                themesStudied: 0,
                examsCompleted: 0,
                totalScore: 0
            });
                // State for quizzes
    const [quizAnswers, setQuizAnswers] = useState({});
    const [quizResults, setQuizResults] = useState({});
    const [quizFilter, setQuizFilter] = useState("all"); // "all", "verbs", "connectors", "themes"
    const [quizDifficulty, setQuizDifficulty] = useState("all"); // "all", "easy", "medium", "hard"
    const [quizScores, setQuizScores] = useState({
        verbs: { correct: 0, total: 0, score: 0 },
        connectors: { correct: 0, total: 0, score: 0 },
        themes: { correct: 0, total: 0, score: 0 }
    });
            
            // ==================== COMPLETE DATA ====================
            
            // 1. 50 VERBS ARSENAL (COMPLETE)
            const verbsData = [
                { id: 1, b2: "Do/Make", c2: "Institute / Devise", desc: "Establish something lasting or build a complex plan.", mastered: false },
                { id: 2, b2: "Say", c2: "Assert / Allege", desc: "State forcefully or cite a fact to justify oneself.", mastered: false },
                { id: 3, b2: "Have", c2: "Possess / Enjoy", desc: "Own a resource or enjoy a privilege.", mastered: false },
                { id: 4, b2: "See", c2: "Discern / Apprehend", desc: "Perceive what is difficult to see or understand globally.", mastered: false },
                { id: 5, b2: "Change", c2: "Transfigure / Subvert", desc: "Change appearance nobly or overturn values.", mastered: false },
                { id: 6, b2: "Help", c2: "Catalyze / Assist", desc: "Accelerate a reaction or assist precisely.", mastered: false },
                { id: 7, b2: "Show", c2: "Highlight / Demonstrate", desc: "Emphasize a point or prove logically.", mastered: false },
                { id: 8, b2: "Want", c2: "Aspire to / Advocate", desc: "Have high objectives or publicly recommend.", mastered: false },
                { id: 9, b2: "Stop", c2: "Stem / Hinder", desc: "Stop the progression of an evil or impede movement.", mastered: false },
                { id: 10, b2: "Give", c2: "Grant / Confer", desc: "Grant an official favor or give a value/title.", mastered: false },
                { id: 11, b2: "Begin", c2: "Initiate / Introduce", desc: "Engage the first steps or introduce to a domain.", mastered: false },
                { id: 12, b2: "Hide", c2: "Obfuscate / Conceal", desc: "Make intentionally invisible or hide one's feelings.", mastered: false },
                { id: 13, b2: "Increase", c2: "Exacerbate / Augment", desc: "Make tension more violent or develop intensity.", mastered: false },
                { id: 14, b2: "Decrease", c2: "Diminish / Burden", desc: "Reduce progressively or weigh heavily on.", mastered: false },
                { id: 15, b2: "Take", c2: "Appropriate / Grasp", desc: "Take for oneself without right or understand instantly.", mastered: false },
                { id: 16, b2: "Finish", c2: "Consummate / Perfect", desc: "Accomplish to the end or add the final touch.", mastered: false },
                { id: 17, b2: "Think", c2: "Consider / Conjecture", desc: "Form a considered judgment or suppose based on probabilities.", mastered: false },
                { id: 18, b2: "Understand", c2: "Assimilate / Decipher", desc: "Integrate knowledge completely or understand the obscure.", mastered: false },
                { id: 19, b2: "Use", c2: "Mobilize / Exploit", desc: "Put resources into motion or take advantage of a situation.", mastered: false },
                { id: 20, b2: "Ask", c2: "Solicit / Claim", desc: "Make a formal request or claim a right.", mastered: false },
                { id: 21, b2: "Seek", c2: "Aspire to / Quest", desc: "Desire ardently to achieve or seek to obtain (noble term).", mastered: false },
                { id: 22, b2: "Destroy", c2: "Annihilate / Disintegrate", desc: "Reduce to nothing or decompose progressively.", mastered: false },
                { id: 23, b2: "Follow", c2: "Align with", desc: "Adopt the same policy or position as another.", mastered: false },
                { id: 24, b2: "Forget", c2: "Disregard", desc: "Scorn a rule or constraint voluntarily.", mastered: false },
                { id: 25, b2: "Bring", c2: "Evoke", desc: "Provoke a feeling or reaction.", mastered: false },
                { id: 26, b2: "Win", c2: "Secure", desc: "Obtain a definitive victory or advantage.", mastered: false },
                { id: 27, b2: "Lose", c2: "Wither", desc: "Weaken, lose strength slowly.", mastered: false },
                { id: 28, b2: "Work", c2: "Labor", desc: "Act with constancy for a great cause.", mastered: false },
                { id: 29, b2: "Improve", c2: "Enhance / Perfect", desc: "Make better or bring to excellence.", mastered: false },
                { id: 30, b2: "Prevent", c2: "Counter / Halt", desc: "Create an obstacle or stop progression abruptly.", mastered: false },
                { id: 31, b2: "Create", c2: "Generate / Engender", desc: "Produce or give birth to something new.", mastered: false },
                { id: 32, b2: "Discover", c2: "Unearth / Bring to light", desc: "Reveal what was hidden or unknown.", mastered: false },
                { id: 33, b2: "Try", c2: "Attempt / Try one's hand at", desc: "Make an attempt or experiment.", mastered: false },
                { id: 34, b2: "Explain", c2: "Explicate / Elucidate", desc: "Make clear or solve a mystery.", mastered: false },
                { id: 35, b2: "Feel", c2: "Sense / Experience", desc: "Have intuition or feel deeply.", mastered: false },
                { id: 36, b2: "Hold", c2: "Maintain / Preside over", desc: "Keep in state or chair a meeting.", mastered: false },
                { id: 37, b2: "Touch", c2: "Affect / Concern", desc: "Have an impact or relate to.", mastered: false },
                { id: 38, b2: "Transform", c2: "Metamorphose / Convert", desc: "Completely change form or nature.", mastered: false },
                { id: 39, b2: "Use", c2: "Resort to / Take advantage of", desc: "Make use of or benefit from.", mastered: false },
                { id: 40, b2: "Be worth", c2: "Be equivalent to / Represent", desc: "Have the same value or symbolize.", mastered: false },
                { id: 41, b2: "Sell", c2: "Transfer / Negotiate", desc: "Transfer ownership or discuss a price.", mastered: false },
                { id: 42, b2: "Come", c2: "Originate / Emanate", desc: "Originate or come from.", mastered: false },
                { id: 43, b2: "Live", c2: "Exist / Reside", desc: "Be alive or reside temporarily.", mastered: false },
                { id: 44, b2: "See", c2: "Observe / Witness", desc: "Notice or study attentively.", mastered: false },
                { id: 45, b2: "Want", c2: "Desire ardently / Wish", desc: "Have intense desire or formulate a wish.", mastered: false },
                { id: 46, b2: "Wait", c2: "Anticipate / Watch for", desc: "Foresee or watch with attention.", mastered: false },
                { id: 47, b2: "Believe", c2: "Presume / Postulate", desc: "Suppose or pose as hypothesis.", mastered: false },
                { id: 48, b2: "Become", c2: "Transform into / Evolve toward", desc: "Transform or progress toward.", mastered: false },
                { id: 49, b2: "Must", c2: "Be obligated to / It falls to", desc: "Have the obligation or fall to.", mastered: false },
                { id: 50, b2: "Say", c2: "State / Formulate", desc: "Express clearly or put into words.", mastered: false }
            ];
                // ==================== QUIZ DATA ====================
    
    // 1. VERBS QUIZZES (10 quizzes)
    const verbQuizzes = [
        {
            id: 1,
            verbId: 1,
            question: "Which C2 equivalent corresponds to 'Do/Make' in the context of establishing something lasting?",
            options: ["Institute", "Eat", "Run", "Speak"],
            correct: 0,
            explanation: "'Institute' is used to establish something lasting like a law, system, or policy. 'Devise' would be more for a complex mental plan.",
            type: "verbs",
            difficulty: "easy"
        },
        {
            id: 2,
            verbId: 2,
            question: "If you want to 'state forcefully in an argument', which C2 verb do you use instead of 'Say'?",
            options: ["Assert", "Whisper", "Shout", "Listen"],
            correct: 0,
            explanation: "'Assert' means to state forcefully, often in a debate or argument. 'Allege' would be to cite a fact with nuance of doubt.",
            type: "verbs",
            difficulty: "easy"
        },
        {
            id: 3,
            verbId: 3,
            question: "Which C2 verb expresses 'possess a resource or means of action' instead of 'Have'?",
            options: ["Possess", "Lose", "Seek", "Sell"],
            correct: 0,
            explanation: "'Possess' indicates effective possession of a usable resource. 'Enjoy' would be for a privilege or advantage.",
            type: "verbs",
            difficulty: "medium"
        },
        {
            id: 4,
            verbId: 4,
            question: "To 'perceive what is difficult to see or subtle', which C2 verb replaces 'See'?",
            options: ["Discern", "Ignore", "Close", "Dream"],
            correct: 0,
            explanation: "'Discern' implies fine and analytical perception. 'Apprehend' would be for understanding a concept globally.",
            type: "verbs",
            difficulty: "medium"
        },
        {
            id: 5,
            verbId: 5,
            question: "Which C2 verb means 'change appearance by making it more noble or beautiful' instead of 'Change'?",
            options: ["Transfigure", "Destroy", "Hide", "Copy"],
            correct: 0,
            explanation: "'Transfigure' elevates and ennobles. 'Subvert' would be for overturning established values.",
            type: "verbs",
            difficulty: "hard"
        },
        {
            id: 6,
            verbId: 6,
            question: "If you want to 'accelerate a reaction or social change', which C2 verb do you use for 'Help'?",
            options: ["Catalyze", "Slow", "Stop", "Observe"],
            correct: 0,
            explanation: "'Catalyze' accelerates a process like a chemical catalyst. 'Assist' would be for assisting precisely.",
            type: "verbs",
            difficulty: "hard"
        },
        {
            id: 7,
            verbId: 7,
            question: "To 'emphasize, make a specific point evident', which C2 verb replaces 'Show'?",
            options: ["Highlight", "Hide", "Deny", "Forget"],
            correct: 0,
            explanation: "'Highlight' means to make salient, bring to light. 'Demonstrate' would be to prove logically.",
            type: "verbs",
            difficulty: "medium"
        },
        {
            id: 8,
            verbId: 8,
            question: "Which C2 verb expresses 'have objectives of high importance' instead of 'Want'?",
            options: ["Aspire to", "Refuse", "Doubt", "Fear"],
            correct: 0,
            explanation: "'Aspire to' implies high and structured objectives. 'Advocate' would be for publicly recommending.",
            type: "verbs",
            difficulty: "easy"
        },
        {
            id: 9,
            verbId: 9,
            question: "To 'stop the progression of an evil (crisis, epidemic)', which C2 verb replaces 'Stop'?",
            options: ["Stem", "Begin", "Ignore", "Celebrate"],
            correct: 0,
            explanation: "'Stem' means to stop abruptly a negative progression. 'Hinder' would be to impede movement.",
            type: "verbs",
            difficulty: "hard"
        },
        {
            id: 10,
            verbId: 10,
            question: "Which C2 verb means 'grant a favor or right in an official manner' instead of 'Give'?",
            options: ["Grant", "Take", "Steal", "Hide"],
            correct: 0,
            explanation: "'Grant' implies an authority that officially grants. 'Confer' would be to give a value or title.",
            type: "verbs",
            difficulty: "medium"
        }
    ];

    // 2. CONNECTORS QUIZZES (5 quizzes)
    const connectorQuizzes = [
        {
            id: 11,
            connectorId: 1,
            question: "Which C2 connector would you use to nuance an affirmation without completely canceling it?",
            options: ["However", "Because", "And also", "For"],
            correct: 0,
            explanation: "'However' (or 'Nevertheless') allows introducing a nuance, an elegant restriction without frontal opposition.",
            type: "connectors",
            difficulty: "easy"
        },
        {
            id: 12,
            connectorId: 4,
            question: "If you want to 'conceptualize the origin of a fact' instead of simply saying 'Because', which C2 connector do you use?",
            options: ["Due to", "But", "Therefore", "If"],
            correct: 0,
            explanation: "'Due to' or 'Given that' give an analytical and conceptual dimension to the causal relationship.",
            type: "connectors",
            difficulty: "medium"
        },
        {
            id: 13,
            connectorId: 6,
            question: "To 'establish an irrefutable logical deduction', which C2 connector replaces 'Therefore'?",
            options: ["Hence", "But", "Because", "And"],
            correct: 0,
            explanation: "'Hence' or 'Consequently' introduce a logical consequence with superior argumentative force.",
            type: "connectors",
            difficulty: "hard"
        },
        {
            id: 14,
            connectorId: 10,
            question: "Which C2 connector introduces 'a strong restrictive condition' instead of the simple 'If'?",
            options: ["Provided that", "But", "Therefore", "Because"],
            correct: 0,
            explanation: "'Provided that' poses a demanding, almost suspensive condition, reinforcing the scope of the hypothesis.",
            type: "connectors",
            difficulty: "hard"
        },
        {
            id: 15,
            connectorId: 13,
            question: "To 'impose an evidence after analysis', which C2 connector do you use instead of 'It's sure that'?",
            options: ["It must be acknowledged that", "But", "Therefore", "If"],
            correct: 0,
            explanation: "'It must be acknowledged that' imposes an inescapable conclusion after examining the facts.",
            type: "connectors",
            difficulty: "medium"
        }
    ];

    // 3. THEMATIC QUIZZES (5 quizzes)
    const themeQuizzes = [
        {
            id: 16,
            themeId: "energy",
            question: "In the theme 'Energy & Sovereignty', which C2 expression would replace 'Morocco wants to change its energy'?",
            options: ["The Kingdom transfigures its energy mix", "Morocco modifies its electricity", "The country adjusts its energy", "The nation changes its power"],
            correct: 0,
            explanation: "'Transfigures its energy mix' gives a strategic and noble dimension to the transition.",
            type: "themes",
            difficulty: "medium"
        },
        {
            id: 17,
            themeId: "war",
            question: "To express the fear that 'cyberwar may never stop', which C2 formulation would be appropriate?",
            options: ["One fears that digital conflictuality may become perennial", "People fear that computer war continues", "They fear that cyber doesn't stop", "It is feared that digital war lasts"],
            correct: 0,
            explanation: "Use of the expletive 'ne' after 'fear' and nominalization 'digital conflictuality'.",
            type: "themes",
            difficulty: "hard"
        },
        {
            id: 18,
            themeId: "china",
            question: "Which C2 formulation best expresses 'China gives money to build ports'?",
            options: ["Beijing grants funding to erect port infrastructure", "China lends to make ports", "The country gives money for ports", "It finances port construction"],
            correct: 0,
            explanation: "'Grants funding' and 'erect infrastructure' elevate the lexical register.",
            type: "themes",
            difficulty: "medium"
        },
        {
            id: 19,
            themeId: "brics",
            question: "For 'BRICS want to create a new currency', which C2 version is correct?",
            options: ["BRICS aspire to institute a sovereign unit of account", "BRICS wish to make a currency", "They want to create a new currency", "These countries desire a currency"],
            correct: 0,
            explanation: "'Aspire to institute' and 'sovereign unit of account' correspond to the geopolitical C2 register.",
            type: "themes",
            difficulty: "easy"
        },
        {
            id: 20,
            themeId: "russia",
            question: "How to transform 'Russia now sells its oil to China' into a C2 formulation?",
            options: ["Moscow now channels its hydrocarbons toward Beijing", "Russia commercializes its oil in China", "It sells its oil to the Chinese", "The country exports its oil to China"],
            correct: 0,
            explanation: "'Channels its hydrocarbons' and the metonymy 'Moscow/Beijing' belong to the diplomatic C2 register.",
            type: "themes",
            difficulty: "medium"
        }
    ];

    // 4. ALL QUIZZES COMBINED
    const allQuizzes = [...verbQuizzes, ...connectorQuizzes, ...themeQuizzes];

            // 2. CONNECTORS COMPASS (COMPLETE)
            const connectorsData = [
                { id: 1, b2: "But", c2: "However / Nevertheless", type: "Opposition", impact: "Nuances an affirmation without canceling it", example: "China is powerful, but it has internal problems. ‚Üí China is powerful, however it must stem internal fragilities." },
                { id: 2, b2: "Even if", c2: "Notwithstanding / Although", type: "Opposition", impact: "Introduces a concession with elegance", example: "Even if sanctions are strong, Russia resists. ‚Üí Notwithstanding the severity of sanctions, Russia demonstrates notable resilience." },
                { id: 3, b2: "On the contrary", c2: "Conversely / On the opposite", type: "Opposition", impact: "Marks a clear and analytical break", example: "Europe wants peace. On the contrary, the USA wants war. ‚Üí Europe advocates diplomacy. Conversely, Washington relies on armed deterrence." },
                { id: 4, b2: "Because", c2: "Due to / Given that", type: "Cause", impact: "Conceptualizes the origin of a fact", example: "Morocco invests because it wants to be independent. ‚Üí Morocco invests due to its quest for energy independence." },
                { id: 5, b2: "Thanks to", c2: "By virtue of", type: "Cause", impact: "Highlights a seized opportunity", example: "Thanks to the BRI, China expands. ‚Üí By virtue of the New Silk Roads, Beijing extends its grip." },
                { id: 6, b2: "Therefore", c2: "Hence / Consequently", type: "Consequence", impact: "Establishes an irrefutable logical deduction", example: "The dollar dominates, therefore the USA controls everything. ‚Üí The dollar remains hegemonic, hence Washington retains a major coercive lever." },
                { id: 7, b2: "That's why", c2: "It follows that", type: "Consequence", impact: "Shows the natural sequence of facts", example: "BRICS want to change the system, that's why they create a bank. ‚Üí BRICS aspire to subvert the financial order, it follows that they institute a development bank." },
                { id: 8, b2: "And also", c2: "Moreover / Furthermore", type: "Addition", impact: "Adds an argument with increasing force", example: "The war in Ukraine has economic consequences and also political ones. ‚Üí The Ukrainian conflict exacerbates economic tensions and, moreover, redistributes geopolitical cards." },
                { id: 9, b2: "On the other hand", c2: "Additionally / Moreover", type: "Addition", impact: "Opens a new dimension to the analysis", example: "On the other hand, we must consider the ecological impact. ‚Üí Additionally, it is important to apprehend the environmental footprint." },
                { id: 10, b2: "If", c2: "Provided that", type: "Hypothesis", impact: "Introduces a strong restrictive condition", example: "If international cooperation works, we can hope for peace. ‚Üí Provided that international cooperation is effective, one can envision a pacification of relations." },
                { id: 11, b2: "Maybe that", c2: "In the event that", type: "Hypothesis", impact: "Projects a possibility with caution", example: "Maybe China will become the first power. ‚Üí In the event that China completes its ascent, it would secure world primacy." },
                { id: 12, b2: "That is to say", c2: "Namely / Specifically", type: "Explanation", impact: "Brings surgical precision", example: "Renewable energies, that is to say solar and wind. ‚Üí Renewable energies, namely solar and wind, transform the energy mix." },
                { id: 13, b2: "It's sure that", c2: "It must be acknowledged that", type: "Certainty", impact: "Imposes an evidence after analysis", example: "It's sure that the world changes fast. ‚Üí It must be acknowledged that the world is undergoing accelerated mutation." },
                { id: 14, b2: "For", c2: "With the aim of / In view of", type: "Purpose", impact: "Defines a precise strategic objective", example: "For reducing pollution, we make laws. ‚Üí With the aim of stemming pollution, states institute a legislative arsenal." },
                { id: 15, b2: "Unless", c2: "Unless (+ expletive ne)", type: "Restriction", impact: "Sets a strict limit to an affirmation", example: "The project will fail, unless we find more money. ‚Üí The project is doomed to failure, unless additional funding is unlocked." }
            ];

            // 3. TENSES TRANSMUTATION (COMPLETE)
            const tensesData = [
                { 
                    id: 1, 
                    b2: "Present Indicative", 
                    c2: "Future Anterior of Conjecture", 
                    desc: "To express probability about a past fact with intellectual certainty.", 
                    exampleB2: "Russia probably anticipated the sanctions.", 
                    exampleC2: "Moscow will have anticipated the Western coercive arsenal well before the onset of the conflict.",
                    usage: "Used in geopolitical analyses to deduce past intentions."
                },
                { 
                    id: 2, 
                    b2: "Present Perfect", 
                    c2: "Simple Past", 
                    desc: "To give a historical and solemn dimension to the narrative, conferring a definitive character.", 
                    exampleB2: "BRICS have decided to expand in 2024.", 
                    exampleC2: "In 2024, BRICS consummated their expansion, thus opening the era of multipolarity.",
                    usage: "Indispensable for official reports and historical analyses."
                },
                { 
                    id: 3, 
                    b2: "Past Perfect", 
                    c2: "Past Subjunctive", 
                    desc: "For the unrealized hypothesis in the past with absolute literary elegance.", 
                    exampleB2: "If China had helped earlier, the situation would be different.", 
                    exampleC2: "Had China provided its support earlier, the geopolitical landscape would have been transfigured.",
                    usage: "Mark of diplomats and great analysts. Eliminates 'if' by inversion."
                },
                { 
                    id: 4, 
                    b2: "Present Subjunctive", 
                    c2: "Imperfect Subjunctive", 
                    desc: "To maintain tense agreement after a verb in the past in a formal style.", 
                    exampleB2: "It was necessary that Morocco change its energy.", 
                    exampleC2: "It was imperative that the Kingdom transfigure its energy mix to establish its sovereignty.",
                    usage: "Mandatory in official speeches and legal documents."
                },
                { 
                    id: 5, 
                    b2: "Present Conditional", 
                    c2: "Past Conditional (2nd form)", 
                    desc: "For the unrealized past with remarkable literary sophistication.", 
                    exampleB2: "We could have avoided cyberwar.", 
                    exampleC2: "One could have stemmed the cyber threat provided that international cooperation were real.",
                    usage: "Uses auxiliary in imperfect subjunctive. Signature of high-level analysts."
                },
                { 
                    id: 6, 
                    b2: "Simple Future", 
                    c2: "Perspective Future", 
                    desc: "To project an analysis with authority, like an incontestable analytical sentence.", 
                    exampleB2: "Artificial intelligence will change warfare.", 
                    exampleC2: "AI will durably transfigure hybrid conflictuality, thus redefining the boundaries of ethics.",
                    usage: "Not to be used for banal predictions, but for strategic analyses."
                }
            ];

            // 4. THE 5 COMPLETE THEMES (FULL TEXT)
            const themesData = [
                {
                    id: 'energy',
                    title: "Energy & Sovereignty",
                    icon: "‚ö°",
                    subtitle: "Petrodollar facing the green transition",
                    description: "The imperative of energy transition as a lever of national sovereignty.",
                    texteB2: "Morocco wants to produce more green energy. Minister Leila Benali is working on a major green hydrogen project. If the country succeeds, it will be able to sell electricity to Europe and will no longer depend on gas. This is important for the country's independence. But it's difficult and expensive. Many investments are necessary.",
                    texteC2: "Notwithstanding fa√ßade discourses on environmental preservation, energy transition now imposes itself as the pivot of national sovereignty. Had the Kingdom of Morocco failed to anticipate the obsolescence of carbon energies, it would have found itself at the mercy of a volatility of gas markets that no one could stem. Under the impetus of Leila Benali, Rabat now devises a green hydrogen hub with the aim of transfiguring its economy into an exporter of decarbonized electrons. It must be acknowledged that this structural metamorphosis perfects the strategic autonomy of the country, highlighting the fact that tomorrow's independence resides in the technological mastery of sovereign energy vectors.",
                    keyVerbs: ["Institute", "Transfigure", "Stem", "Devise", "Perfect"],
                    keyConnectors: ["Notwithstanding", "Had...", "It must be acknowledged that", "With the aim of"]
                },
                {
                    id: 'war',
                    title: "Hybrid Warfare",
                    icon: "üõ°Ô∏è",
                    subtitle: "Conflictuality in the gray zone",
                    description: "Cyberwar and disinformation as new battlefields.",
                    texteB2: "Today, countries also fight with computers. It's cyberwar. Hackers attack hospitals, banks, electrical systems. It's dangerous because we don't always know who is attacking. False information spreads on social networks. People no longer know what to believe. It's difficult for democracies to defend themselves.",
                    texteC2: "Contemporary conflictuality no longer deploys only on kinetic fronts, but insinuates itself into 'gray zones' where the aggressor seeks to subvert reality through systemic disinformation. One apprehends that the cyber weapon may hinder the regalian functioning of states without the threshold of open war being crossed. This asymmetry of means exacerbates a social vulnerability where data becomes the nerve of conflict. Consequently, it is important to institute a digital resilience capable of eluding foreign destabilization attempts, provided that a nation's sovereignty is now measured by the robustness of its critical infrastructures.",
                    keyVerbs: ["Subvert", "Hinder", "Exacerbate", "Institute", "Elude"],
                    keyConnectors: ["Consequently", "Provided that", "One apprehends that... may"]
                },
                {
                    id: 'china',
                    title: "China",
                    icon: "üá®üá≥",
                    subtitle: "Economic hegemony and the 'Silk Road'",
                    description: "Chinese normative expansionism through BRI.",
                    texteB2: "China builds many bridges, roads, and ports worldwide with its 'Silk Road' project. It lends money to poor countries for these constructions. Afterwards, these countries owe much money to China and lose their independence. China gains influence everywhere. It wants to change global rules to adapt them to its interests.",
                    texteC2: "The 'Belt and Road Initiative' constitutes the vector of an unprecedented historical normative expansionism. By granting pharaonic funding, Beijing initiates a overhaul of global financial balances aiming to oust the primacy of Western law. Had China renounced this debt diplomacy, it would not have been able to appropriate logistical assets as strategic as African or Asian deep-sea ports. This strategy advocates the emergence of a Sino-centered order that obfuscates its hegemonic ambitions behind a promise of mutual development, thus durably burdening the diplomatic maneuvering margin of debtor countries.",
                    keyVerbs: ["Grant", "Appropriate", "Advocate", "Obfuscate", "Burden"],
                    keyConnectors: ["Had...", "Thus", "Aiming to"]
                },
                {
                    id: 'brics',
                    title: "BRICS",
                    icon: "üåç",
                    subtitle: "Dedollarization and the Global South",
                    description: "The emergence of financial multipolarity.",
                    texteB2: "BRICS (Brazil, Russia, India, China, South Africa) and other countries want to use the US dollar less. They create their own payment systems. They are tired of American domination. They want the world to have several power poles, not just the USA. But they don't always agree among themselves.",
                    texteC2: "The expansion of BRICS+ denotes a fierce will to subvert the monetary monopoly of the greenback, perceived as an instrument of diplomatic coercion. Notwithstanding the heterogeneity of the political systems present, these powers aspire to institute a multipolar financial architecture capable of eluding unilateral American sanctions. The vaticination of a dedollarized world is no longer a utopia but a concrete strategic conjuncture. The capacity of this bloc to mobilize alternative compensation circuits will consummate the definitive rupture with the order stemming from Bretton Woods, thus establishing the collective leadership of the Global South.",
                    keyVerbs: ["Subvert", "Institute", "Elude", "Mobilize", "Consummate"],
                    keyConnectors: ["Notwithstanding", "The capacity of... to", "Thus"]
                },
                {
                    id: 'russia',
                    title: "Russia",
                    icon: "üá∑üá∫",
                    subtitle: "Sanctions, resilience, and pivot toward Asia",
                    description: "The strategic rupture with the West.",
                    texteB2: "After the start of the war in Ukraine, the West imposed very strong sanctions on Russia. But Russia did not collapse. It found new clients in China and India for its oil and gas. It turns its back on Europe. Now it depends heavily on China, which could be a problem later.",
                    texteC2: "Despite the deployment of an unprecedented coercive arsenal, Moscow has managed to elude economic asphyxiation through an irreversible eastern pivot. The structural reorientation of hydrocarbon flows toward Asia denotes an adaptation capacity that disregards Atlantic ostracism. Had the Kremlin failed to stabilize its currency, the Russian economy would have disintegrated under the weight of sanctions; however, the displayed resilience highlights the failure of a Western strategy aiming to isolate an autonomous Eurasian power. The rupture being now consummated, Russia sets about perfecting its metamorphosis, definitively turning away from a European continent perceived as obsolete.",
                    keyVerbs: ["Elude", "Denotes", "Would have disintegrated", "Perfect", "Sets about"],
                    keyConnectors: ["Had...", "However", "Being now"]
                }
            ];

            // 5. COMPLETE WRITTEN PRODUCTIONS
            const productionsData = [
                {
                    id: 1,
                    theme: "Energy",
                    subject: "Is energy transition merely an ecological challenge or a lever of power?",
                    text: "¬´Notwithstanding fa√ßade discourses on environmental preservation, energy transition now imposes itself as the pivot of national sovereignty. Had the Kingdom of Morocco failed to anticipate the obsolescence of carbon energies, it would have found itself at the mercy of a volatility of gas markets that no one could stem. Under the impetus of Leila Benali, Rabat now devises a green hydrogen hub with the aim of transfiguring its economy into an exporter of decarbonized electrons. It must be acknowledged that this structural metamorphosis perfects the strategic autonomy of the country, highlighting the fact that tomorrow's independence resides in the technological mastery of sovereign energy vectors.¬ª",
                    level: "C2",
                    words: 145,
                    structures: ["Inversion Had...", "Notwithstanding", "It must be acknowledged that", "With the aim of"],
                    verbs: ["Stem", "Devise", "Transfigure", "Perfect", "Highlight"]
                },
                {
                    id: 2,
                    theme: "Hybrid Warfare",
                    subject: "The evolution of modern conflictuality toward the immaterial.",
                    text: "¬´Contemporary conflictuality no longer deploys only on kinetic fronts, but insinuates itself into 'gray zones' where the aggressor seeks to subvert reality through systemic disinformation. One apprehends that the cyber weapon may hinder the regalian functioning of states without the threshold of open war being crossed. This asymmetry of means exacerbates a social vulnerability where data becomes the nerve of conflict. Consequently, it is important to institute a digital resilience capable of eluding foreign destabilization attempts, provided that a nation's sovereignty is now measured by the robustness of its critical infrastructures.¬ª",
                    level: "C2",
                    words: 125,
                    structures: ["Expletive ne", "Provided that", "Consequently", "Without"],
                    verbs: ["Subvert", "Hinder", "Exacerbate", "Institute", "Elude"]
                },
                {
                    id: 3,
                    theme: "China",
                    subject: "The geopolitical stakes of the 'Silk Road'.",
                    text: "¬´The 'Belt and Road Initiative' constitutes the vector of an unprecedented historical normative expansionism. By granting pharaonic funding, Beijing initiates a overhaul of global financial balances aiming to oust the primacy of Western law. Had China renounced this debt diplomacy, it would not have been able to appropriate logistical assets as strategic as African or Asian deep-sea ports. This strategy advocates the emergence of a Sino-centered order that obfuscates its hegemonic ambitions behind a promise of mutual development, thus durably burdening the diplomatic maneuvering margin of debtor countries.¬ª",
                    level: "C2",
                    words: 115,
                    structures: ["Had... (inversion)", "Aiming to", "Thus", "Without precedent"],
                    verbs: ["Grant", "Appropriate", "Advocate", "Obfuscate", "Burden"]
                },
                {
                    id: 4,
                    theme: "BRICS",
                    subject: "The emergence of the Global South facing the dollar's monetary monopoly.",
                    text: "¬´The expansion of BRICS+ denotes a fierce will to subvert the monetary monopoly of the greenback, perceived as an instrument of diplomatic coercion. Notwithstanding the heterogeneity of the political systems present, these powers aspire to institute a multipolar financial architecture capable of eluding unilateral American sanctions. The vaticination of a dedollarized world is no longer a utopia but a concrete strategic conjuncture. The capacity of this bloc to mobilize alternative compensation circuits will consummate the definitive rupture with the order stemming from Bretton Woods, thus establishing the collective leadership of the Global South.¬ª",
                    level: "C2",
                    words: 110,
                    structures: ["Notwithstanding", "Capable of", "The capacity of... to", "Thus"],
                    verbs: ["Subvert", "Institute", "Elude", "Mobilize", "Consummate"]
                },
                {
                    id: 5,
                    theme: "Russia",
                    subject: "Resilience and reorientation of the Russian model facing isolation.",
                    text: "¬´Despite the deployment of an unprecedented coercive arsenal, Moscow has managed to elude economic asphyxiation through an irreversible eastern pivot. The structural reorientation of hydrocarbon flows toward Asia denotes an adaptation capacity that disregards Atlantic ostracism. Had the Kremlin failed to stabilize its currency, the Russian economy would have disintegrated under the weight of sanctions; however, the displayed resilience highlights the failure of a Western strategy aiming to isolate an autonomous Eurasian power. The rupture being now consummated, Russia sets about perfecting its metamorphosis, definitively turning away from a European continent perceived as obsolete.¬ª",
                    level: "C2",
                    words: 120,
                    structures: ["Had... (inversion)", "However", "Disregarding", "Being now"],
                    verbs: ["Elude", "Denotes", "Would have disintegrated", "Perfect", "Sets about"]
                }
            ];

            // 6. DETAILED MOCK EXAMS
            const examsData = [
                { 
                    id: 1, 
                    title: "Exam #1 - Energy Geopolitics", 
                    duration: "60 min", 
                    subject: "Analyze the stakes of energy transition for Moroccan sovereignty.",
                    instructions: "1. Use at least 5 verbs from the Arsenal\n2. Employ 3 C2 connectors\n3. Integrate an inversion structure\n4. Minimum 300 words",
                    criteria: [
                        "C2 Lexicon: 30 points",
                        "Syntactic structure: 30 points",
                        "Geopolitical argumentation: 25 points",
                        "Spelling and style: 15 points"
                    ],
                    level: "Expert C2",
                    theme: "Energy"
                },
                { 
                    id: 2, 
                    title: "Exam #2 - Sino-African Relations", 
                    duration: "60 min", 
                    subject: "Silk Roads in Africa: opportunity or trap?",
                    instructions: "1. Use the expletive 'ne'\n2. Use 'Notwithstanding' or 'Provided that'\n3. Integrate nominalization\n4. Minimum 350 words",
                    criteria: [
                        "Critical analysis: 35 points",
                        "C2 linguistic mastery: 30 points",
                        "Geopolitical knowledge: 20 points",
                        "Argumentative coherence: 15 points"
                    ],
                    level: "Expert C2",
                    theme: "China"
                },
                { 
                    id: 3, 
                    title: "Exam #3 - BRICS+ Multipolarity", 
                    duration: "60 min", 
                    subject: "Does the expansion of BRICS+ call into question the dollar's hegemony?",
                    instructions: "1. 'Double Blade' structure mandatory\n2. Verbs 'subvert' and 'institute'\n3. Connector 'Hence' or 'Consequently'\n4. Minimum 400 words",
                    criteria: [
                        "Lexical innovation: 25 points",
                        "Syntactic complexity: 30 points",
                        "Analytical depth: 30 points",
                        "Originality of perspective: 15 points"
                    ],
                    level: "Maestro C2",
                    theme: "BRICS"
                },
                { 
                    id: 4, 
                    title: "Exam #4 - Hybrid Warfare", 
                    duration: "60 min", 
                    subject: "Does cyberwar represent an existential threat for democracies?",
                    instructions: "1. Use 'exacerbate' and 'stem'\n2. Employ the perspective future\n3. Elaborated conditional structure\n4. Minimum 320 words",
                    criteria: [
                        "Terminological precision: 30 points",
                        "C2 tense mastery: 25 points",
                        "Analytical rigor: 30 points",
                        "Clarity of exposition: 15 points"
                    ],
                    level: "Expert C2",
                    theme: "War"
                },
                { 
                    id: 5, 
                    title: "Exam #5 - Russian Pivot toward Asia", 
                    duration: "60 min", 
                    subject: "Is Russia's strategy to circumvent sanctions sustainable?",
                    instructions: "1. Verbs 'elude' and 'perfect'\n2. Concession connectors\n3. Complex inversion sentence\n4. Minimum 380 words",
                    criteria: [
                        "Linguistic sophistication: 35 points",
                        "Geopolitical relevance: 30 points",
                        "Textual cohesion: 20 points",
                        "Diplomatic style: 15 points"
                    ],
                    level: "Maestro C2",
                    theme: "Russia"
                }
            ];

            // 7. COMPLETE MAESTRO CODEX
            const codexData = [
                { 
                    name: "Nominalization", 
                    desc: "Transform verbs into abstract concepts to gain density and objectivity.", 
                    ex: "decide ‚Üí decision | change ‚Üí mutation | want ‚Üí will", 
                    icon: "üéØ",
                    rule: "The B2 verb becomes an abstract C2 noun. Gives an analytical and conceptual tone.",
                    completeExample: "B2: 'Morocco wants to change its energy.' ‚Üí C2: 'The mutation of the Moroccan energy paradigm imposes itself.'"
                },
                { 
                    name: "Verbs Arsenal", 
                    desc: "Replace common B2 verbs with their more precise and powerful C2 equivalents.", 
                    ex: "do/make ‚Üí institute | have ‚Üí possess | see ‚Üí discern", 
                    icon: "‚ö°",
                    rule: "One B2 verb = several C2 options depending on context and desired nuance.",
                    completeExample: "B2: 'China makes roads everywhere.' ‚Üí C2: 'Beijing institutes logistical corridors on a global scale.'"
                },
                { 
                    name: "C2 Connectors", 
                    desc: "Use sophisticated links to structure complex argumentation.", 
                    ex: "but ‚Üí however | because ‚Üí due to | therefore ‚Üí hence", 
                    icon: "üîó",
                    rule: "Never 'but' at the beginning of a sentence. Prefer 'however', 'nevertheless', 'nonetheless'.",
                    completeExample: "B2: 'But it's difficult.' ‚Üí C2: 'However, implementation proves complex.'"
                },
                { 
                    name: "Subordination", 
                    desc: "Build multi-level sentences to express complex relationships.", 
                    ex: "If on one hand..., on the other... | Although..., it nevertheless remains that...", 
                    icon: "üåÄ",
                    rule: "Avoid simple sentences. Integrate circumstantial subordinate clauses.",
                    completeExample: "B2: 'Russia is isolated but it has allies.' ‚Üí C2: 'If, on one hand, Russia seems isolated, it nevertheless remains that it consolidates its alliances in Asia.'"
                },
                { 
                    name: "Geopolitical Lexicon", 
                    desc: "Master specialized vocabulary of international relations and strategy.", 
                    ex: "hegemony, multipolarity, coercion, sovereignty, vassalization", 
                    icon: "üåç",
                    rule: "Ban vague terms. Use the precise word corresponding to the concept.",
                    completeExample: "B2: 'China has a lot of power.' ‚Üí C2: 'Beijing exercises a growing normative hegemony.'"
                },
                { 
                    name: "Passive and Objectivity", 
                    desc: "Adopt an objective and impersonal tone for detached and credible analysis.", 
                    ex: "We think that... ‚Üí It is observed that... | I believe that... ‚Üí It appears that...", 
                    icon: "üìú",
                    rule: "Avoid 'I'. Prefer passive and impersonal constructions.",
                    completeExample: "B2: 'I think the dollar will drop.' ‚Üí C2: 'It is observed that the greenback might wither facing the rise of alternative currencies.'"
                },
                { 
                    name: "Literary Inversion", 
                    desc: "Use inverted structures for absolute stylistic elegance.", 
                    ex: "Had he known... | Were he to arrive... | Scarcely had he...", 
                    icon: "üîÑ",
                    rule: "Replace 'if' with inversion of subject and verb in past subjunctive.",
                    completeExample: "B2: 'If China had known...' ‚Üí C2: 'Had China anticipated these setbacks...'"
                },
                { 
                    name: "Expletive Ne", 
                    desc: "Use the expletive 'ne' to nuance expressions of fear and doubt.", 
                    ex: "Fear that... may... | Dread that... may... | Prevent that... may...", 
                    icon: "‚ö†Ô∏è",
                    rule: "After verbs expressing fear, add a 'ne' without negative value.",
                    completeExample: "B2: 'We fear that war may continue.' ‚Üí C2: 'One dreads that the conflict may become perennial.'"
                }
            ];

            // 8. TRANSMUTATION LAB EXAMPLES (COMPLETE)
            const labExamples = [
                { 
                    b2: "China wants to have more influence in Africa. It gives money to build ports and roads. Afterwards, African countries owe much to China and lose their freedom. This is a problem for the West.", 
                    c2: "Beijing aspires to institute a normative hegemony on the African continent. By granting pharaonic funding for port and road infrastructure, it initiates a process of financial vassalization. Notwithstanding promises of mutual development, this strategy elicits apprehension from Western chancelleries, which fear that Chinese influence may subvert traditional geopolitical balances.",
                    analysis: "Transformation of verbs (wants ‚Üí aspires to, gives ‚Üí grants), addition of connectors (Notwithstanding), nominalization (influence ‚Üí hegemony), expletive 'ne'"
                },
                { 
                    b2: "Morocco changes its energy to no longer depend on gas. Leila Benali works on green hydrogen. If it works, Morocco will be able to sell electricity to Europe and will be more independent. This is important for the country's future.", 
                    c2: "The Cherifian Kingdom transfigures its energy mix with the aim of freeing itself from gas tutelage. Under the impetus of Leila Benali, Rabat devises a green hydrogen strategy. Had this transition succeeded, Morocco would secure the role of energy supplier for the Old Continent, thus perfecting its national sovereignty. It must be acknowledged that this issue holds a crucial dimension for the country's future.",
                    analysis: "Inversion (Had... succeeded), connectors (thus, It must be acknowledged that), C2 verbs (transfigures, devises, would secure)"
                },
                { 
                    b2: "Sanctions against Russia don't work very well. Russia now sells its oil to China and India. It has turned its back on Europe. Western countries are surprised by this resilience.", 
                    c2: "The coercive arsenal deployed against Moscow proves ineffective, notwithstanding its unprecedented dimension. The Russian Federation has operated an irreversible eastern pivot, now channeling its hydrocarbons toward Beijing and New Delhi. This strategic reorientation, which disregards Atlantic ostracism, denotes an adaptation capacity that has managed to surprise Western observers.",
                    analysis: "Nominalization (sanctions ‚Üí coercive arsenal), connector (notwithstanding), idiomatic expression (disregards), precise verb (denotes)"
                },
                { 
                    b2: "Cyberwar is dangerous because we don't know who attacks. Hackers can block hospitals or banks without declaring war. It's difficult for democracies to defend against this.", 
                    c2: "Digital conflictuality exacerbates strategic risks, due to the deliberate obfuscation of aggressors. Malicious actors are able to hinder the functioning of critical infrastructures without crossing the threshold of open war. This asymmetry of means complicates the defense of democratic regimes, constrained to devise a resilience adapted to this proteiform threat.",
                    analysis: "Specialized terminology (digital conflictuality, critical infrastructures), C2 verbs (exacerbates, hinder, devise), objective style"
                },
                { 
                    b2: "BRICS want to create a new currency to no longer use the dollar. They are several important countries working together. If they succeed, the dollar will lose its power. But it's complicated to implement.", 
                    c2: "BRICS+ aspire to institute a sovereign unit of account, provided that dedollarization becomes effective. This consortium of emerging powers works in concert toward the edification of an alternative financial architecture. In the event that this project succeeds, the greenback would see its hegemony wither. However, implementation proves of formidable complexity, notwithstanding the displayed political will.",
                    analysis: "Hypothetical connectors (provided that, In the event that), C2 verbs (institute, works, wither), concession (However... notwithstanding)"
                }
            ];

            // 9. FLASH TRANSMUTATION EXERCISES
            const exercisesData = [
                {
                    id: 1,
                    b2: "If Russia had not had China's help, it would have lost its economy.",
                    c2: "Had Russia been deprived of Chinese support, its economy would have withered under the weight of sanctions.",
                    hint: "Use inversion of past subjunctive and past conditional 2nd form."
                },
                {
                    id: 2,
                    b2: "Morocco must change its energy quickly to not depend on others.",
                    c2: "It is imperative that the Kingdom transfigure its energy mix with celerity with the aim of freeing itself from any external dependency.",
                    hint: "Use 'it is imperative that' + subjunctive, and the connector 'with the aim of'."
                },
                {
                    id: 3,
                    b2: "China builds a lot in Africa, but Africans are beginning to be wary.",
                    c2: "Notwithstanding the scale of Chinese achievements in Africa, the nations of the continent manifest growing wariness.",
                    hint: "Replace 'but' with 'Notwithstanding' and nominalize 'builds a lot'."
                },
                {
                    id: 4,
                    b2: "We fear that cyberwar may never stop and that it becomes normal.",
                    c2: "One dreads that digital conflictuality may become perennial, thus insinuating itself into strategic normality.",
                    hint: "Use the expletive 'ne' after 'dread' and the gerund 'thus insinuating'."
                },
                {
                    id: 5,
                    b2: "BRICS want to be stronger together to have more weight in the world.",
                    c2: "BRICS aspire to consolidate their collective synergy with a view to increasing their influence on the international stage.",
                    hint: "Replace 'want' with 'aspire to' and 'to' with 'with a view to'."
                }
            ];

            // ==================== FUNCTIONS ====================

            const handleTransmute = () => {
                if (!inputText.trim()) {
                    const example = labExamples[Math.floor(Math.random() * labExamples.length)];
                    setOutputText(`üéØ TRANSMUTATION ULTIMATE EXAMPLE\n\nüìù B2 Version :\n"${example.b2}"\n\n‚ö° C2 Maestro Version :\n"${example.c2}"\n\nüîç Analysis :\n${example.analysis}`);
                    return;
                }
                
                // Advanced version with multiple transformations
                let result = inputText;
                
                // 1. Verb replacements
                const verbReplacements = [
                    { b2: /\bdo\b/gi, c2: "institute" },
                    { b2: /\bmake\b/gi, c2: "institute" },
                    { b2: /\bhave\b/gi, c2: "possess" },
                    { b2: /\bwant\b/gi, c2: "aspire to" },
                    { b2: /\bchange\b/gi, c2: "transfigure" },
                    { b2: /\bhelp\b/gi, c2: "catalyze" },
                    { b2: /\bshow\b/gi, c2: "highlight" },
                    { b2: /\bstop\b/gi, c2: "stem" },
                    { b2: /\bgive\b/gi, c2: "grant" },
                    { b2: /\bunderstand\b/gi, c2: "apprehend" },
                    { b2: /\buse\b/gi, c2: "mobilize" }
                ];
                
                verbReplacements.forEach(rep => {
                    result = result.replace(rep.b2, `<span class="text-cyan-400 font-bold">${rep.c2}</span>`);
                });
                
                // 2. Connector replacements
                const connectorReplacements = [
                    { b2: /\bbut\b/gi, c2: "however" },
                    { b2: /\beven if\b/gi, c2: "notwithstanding" },
                    { b2: /\bbecause\b/gi, c2: "due to" },
                    { b2: /\btherefore\b/gi, c2: "hence" },
                    { b2: /\band also\b/gi, c2: "moreover" },
                    { b2: /\bfor\b/gi, c2: "with the aim of" },
                    { b2: /\bif\b/gi, c2: "provided that" }
                ];
                
                connectorReplacements.forEach(rep => {
                    result = result.replace(rep.b2, `<span class="text-pink-400 font-bold">${rep.c2}</span>`);
                });
                
                // 3. Adding sophistication
                result = result.replace(/\./g, (match) => {
                    const enhancements = [", which", ", whereas", ", while", ", even as"];
                    return Math.random() > 0.7 ? enhancements[Math.floor(Math.random() * enhancements.length)] + match : match;
                });
                
                // 4. Capitalization of beginning
                result = result.charAt(0).toUpperCase() + result.slice(1);
                
                setOutputText(result);
            };

            const toggleVerbMastery = (verbId) => {
                const updatedVerbs = verbsData.map(verb => 
                    verb.id === verbId ? { ...verb, mastered: !verb.mastered } : verb
                );
                // In a real app, we would update the state
                alert(`Verb ${verbId} ${verbsData.find(v => v.id === verbId).mastered ? 'un' : ''}mastered!`);
            };

            const startExam = (examId) => {
                setActiveSection(`examen-${examId}`);
                setIsPanelOpen(false);
            };
                // ==================== QUIZ FUNCTIONS ====================

    const checkQuizAnswer = (quizId, selectedOption) => {
        const quiz = allQuizzes.find(q => q.id === quizId);
        const isCorrect = quiz.correct === selectedOption;
        
        return {
            isCorrect,
            explanation: quiz.explanation,
            correctAnswer: quiz.options[quiz.correct],
            quizId: quizId,
            type: quiz.type,
            difficulty: quiz.difficulty
        };
    };

    const handleQuizSubmit = (quizId, selectedOption) => {
        const result = checkQuizAnswer(quizId, selectedOption);
        
        // Update results
        setQuizResults(prev => ({
            ...prev,
            [quizId]: result
        }));
        
        // Update answers
        setQuizAnswers(prev => ({
            ...prev,
            [quizId]: selectedOption
        }));
        
        // Update scores
        if (result.isCorrect) {
            setQuizScores(prev => {
                const type = result.type;
                return {
                    ...prev,
                    [type]: {
                        ...prev[type],
                        correct: prev[type].correct + 1,
                        score: Math.round(((prev[type].correct + 1) / (prev[type].total + 1)) * 100)
                    }
                };
            });
        }
        
        // Update total for this type
        setQuizScores(prev => {
            const type = result.type;
            return {
                ...prev,
                [type]: {
                    ...prev[type],
                    total: prev[type].total + 1
                }
            };
        });
    };

    const resetQuiz = (quizId) => {
        const quiz = allQuizzes.find(q => q.id === quizId);
        const type = quiz.type;
        
        // Remove from scores if the quiz had been counted
        const result = quizResults[quizId];
        if (result) {
            setQuizScores(prev => {
                const typeStats = prev[type];
                const newCorrect = result.isCorrect ? typeStats.correct - 1 : typeStats.correct;
                const newTotal = typeStats.total - 1;
                return {
                    ...prev,
                    [type]: {
                        correct: newCorrect,
                        total: newTotal,
                        score: newTotal > 0 ? Math.round((newCorrect / newTotal) * 100) : 0
                    }
                };
            });
        }
        
        // Reset answer and result
        setQuizAnswers(prev => {
            const newAnswers = { ...prev };
            delete newAnswers[quizId];
            return newAnswers;
        });
        
        setQuizResults(prev => {
            const newResults = { ...prev };
            delete newResults[quizId];
            return newResults;
        });
    };

    const resetAllQuizzes = () => {
        setQuizAnswers({});
        setQuizResults({});
        setQuizScores({
            verbs: { correct: 0, total: 0, score: 0 },
            connectors: { correct: 0, total: 0, score: 0 },
            themes: { correct: 0, total: 0, score: 0 }
        });
    };

    const getFilteredQuizzes = () => {
        let filtered = allQuizzes;
        
        // Filter by type
        if (quizFilter !== "all") {
            filtered = filtered.filter(q => q.type === quizFilter);
        }
        
        // Filter by difficulty
        if (quizDifficulty !== "all") {
            filtered = filtered.filter(q => q.difficulty === quizDifficulty);
        }
        
        return filtered;
    };

            // ==================== EFFECTS ====================
            useEffect(() => {
                // Calculate progression
                const verbsMastered = verbsData.filter(v => v.mastered).length;
                const themesStudied = ['energy', 'war'].includes(activeSection.replace('theme-', '')) ? 2 : 0;
                
                setUserProgress({
                    verbsMastered,
                    connectorsMastered: Math.floor(Math.random() * 16),
                    themesStudied,
                    examsCompleted: 0,
                    totalScore: verbsMastered * 2
                });
            }, [activeSection]);

            // ==================== RENDER ====================
            return (
                <div className="min-h-screen bg-gray-950 text-white flex">
                    {/* Top Bar */}
                    <div className="fixed top-0 left-0 right-0 h-16 bg-gray-900 border-b border-gray-800 flex items-center px-6 z-50">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-gradient-to-br from-cyan-500 to-pink-500 rounded-xl flex items-center justify-center font-black text-xl">M</div>
                            <div>
                                <div className="font-black text-lg tracking-tight">MAESTRO C2 ULTIMATE</div>
                                <div className="text-xs text-gray-500">COMPLETE NEURAL SYSTEM ‚Ä¢ EXPERT C2 LEVEL</div>
                            </div>
                        </div>
                        <div className="ml-auto flex items-center gap-4">
                            <div className="text-sm text-gray-400 hidden md:block">
                                Progression: <span className="text-cyan-400 font-bold">{userProgress.verbsMastered}/50 verbs</span>
                            </div>
                            <button 
                                onClick={() => setIsPanelOpen(!isPanelOpen)}
                                className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 transition-all"
                            >
                                {isPanelOpen ? '‚óÄ Hide panel' : '‚ñ∂ Show panel'}
                            </button>
                        </div>
                    </div>

                    {/* Vertical Navigation */}
                    <div className="fixed left-0 top-16 w-20 h-[calc(100vh-4rem)] bg-gray-900 border-r border-gray-800 flex flex-col items-center py-6 gap-4 z-40">
                        {[
                            { id: 'dashboard', label: 'üéØ', panel: 'dashboard', tooltip: 'Dashboard' },
                            { id: 'semantics', label: 'üìö', panel: 'semantics', tooltip: 'Semantics' },
                            { id: 'geopolitics', label: 'üåç', panel: 'geopolitics', tooltip: 'Geopolitics' },
                            { id: 'activation', label: '‚ö°', panel: 'activation', tooltip: 'Activation' },
                            { id: 'advanced', label: 'üöÄ', panel: 'advanced', tooltip: 'Advanced' }
                        ].map(nav => (
                            <div 
                                key={nav.id} 
                                onClick={() => { setActivePanel(nav.panel); setIsPanelOpen(true); }}
                                className={`relative w-12 h-12 rounded-xl flex items-center justify-center cursor-pointer transition-all text-2xl group ${
                                    activePanel === nav.panel ? 'bg-cyan-500/20 border border-cyan-500 shadow-lg shadow-cyan-500/20' : 'hover:bg-gray-800 hover:border-gray-700'
                                }`}
                                title={nav.tooltip}
                            >
                                {nav.label}
                                <div className="absolute left-full ml-2 px-2 py-1 bg-gray-800 text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-50">
                                    {nav.tooltip}
                                </div>
                            </div>
                        ))}
                        <div className="mt-auto pt-6 border-t border-gray-800 w-full flex flex-col items-center">
                            <div className="text-xs text-gray-500 mb-2">MAESTRO</div>
                            <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500 to-pink-500 flex items-center justify-center text-sm font-black">
                                C2
                            </div>
                        </div>
                    </div>

                    {/* Side Panel */}
                    <div className={`fixed left-20 top-16 w-80 h-[calc(100vh-4rem)] bg-gray-900 border-r border-gray-800 overflow-y-auto transition-all duration-300 z-30 ${isPanelOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                        <div className="p-6 space-y-4">
                            
                            {/* DASHBOARD */}
                            {activePanel === 'dashboard' && (
                                <>
                                    <div className="text-xs font-black text-gray-500 uppercase mb-4 flex items-center justify-between">
                                        <span>üéØ DASHBOARD</span>
                                        <span className="text-cyan-400">{userProgress.totalScore} pts</span>
                                    </div>
                                    <div onClick={() => { setActiveSection('dashboard'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-cyan-500 transition-all">
                                        <div className="font-bold">üìä Overview</div>
                                        <div className="text-xs text-gray-400">Statistics and progression</div>
                                    </div>
                                </>
                            )}

                            {/* SEMANTICS */}
                            {activePanel === 'semantics' && (
                                <>
                                    <div className="text-xs font-black text-gray-500 uppercase mb-4">üìö C2 SEMANTICS</div>
                                    <div onClick={() => { setActiveSection('arsenal'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-cyan-500 transition-all">
                                        <div className="font-bold flex justify-between items-center">
                                            <span>‚ö° Verbs Arsenal</span>
                                            <span className="text-xs bg-cyan-500 text-gray-900 px-2 py-1 rounded font-bold">50</span>
                                        </div>
                                        <div className="text-xs text-gray-400">Complete B2 ‚Üí C2 transmutation</div>
                                    </div>
                                    <div onClick={() => { setActiveSection('connectors'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-pink-500 transition-all">
                                        <div className="font-bold flex justify-between items-center">
                                            <span>üîó Connectors Compass</span>
                                            <span className="text-xs bg-pink-500 text-gray-900 px-2 py-1 rounded font-bold">15</span>
                                        </div>
                                        <div className="text-xs text-gray-400">Advanced logic and argumentation</div>
                                    </div>
                                    <div onClick={() => { setActiveSection('tenses'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-purple-500 transition-all">
                                        <div className="font-bold flex justify-between items-center">
                                            <span>‚è≥ Tenses Transmutation</span>
                                            <span className="text-xs bg-purple-500 text-gray-900 px-2 py-1 rounded font-bold">6</span>
                                        </div>
                                        <div className="text-xs text-gray-400">Expert C2 verb tenses</div>
                                    </div>
                                </>
                            )}

                            {/* GEOPOLITICS */}
                            {activePanel === 'geopolitics' && (
                                <>
                                    <div className="text-xs font-black text-gray-500 uppercase mb-4">üåç C2 GEOPOLITICS</div>
                                    {themesData.map(theme => (
                                        <div 
                                            key={theme.id} 
                                            onClick={() => { setActiveSection(`theme-${theme.id}`); setIsPanelOpen(false); }}
                                            className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 transition-all hover:border-cyan-500"
                                        >
                                            <div className="font-bold flex items-center gap-2">
                                                <span>{theme.icon}</span>
                                                <span>{theme.title}</span>
                                            </div>
                                            <div className="text-xs text-gray-400">{theme.subtitle}</div>
                                        </div>
                                    ))}
                                    <div onClick={() => { setActiveSection('productions'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-green-500 transition-all mt-4">
                                        <div className="font-bold flex justify-between items-center">
                                            <span>üìù Written Productions</span>
                                            <span className="text-xs bg-green-500 text-gray-900 px-2 py-1 rounded font-bold">5</span>
                                        </div>
                                        <div className="text-xs text-gray-400">Complete analyzed C2 models</div>
                                    </div>
                                </>
                            )}

                            {/* ACTIVATION */}
                            {activePanel === 'activation' && (
                                <>
                                    <div className="text-xs font-black text-gray-500 uppercase mb-4">‚ö° ACTIVATION</div>
                                    <div onClick={() => { setActiveSection('lab'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-cyan-500 transition-all">
                                        <div className="font-bold">üß™ Transmutation Laboratory</div>
                                        <div className="text-xs text-gray-400">AI ‚Ä¢ Examples ‚Ä¢ Analysis</div>
                                    </div>
                                    <div onClick={() => { setActiveSection('exams'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-yellow-500 transition-all">
                                        <div className="font-bold flex justify-between items-center">
                                            <span>üìù Ultimate Mock Exams</span>
                                            <span className="text-xs bg-yellow-500 text-gray-900 px-2 py-1 rounded font-bold">5</span>
                                        </div>
                                        <div className="text-xs text-gray-400">Maestro C2 Certification</div>
                                    </div>
                                    <div onClick={() => { setActiveSection('codex'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-purple-500 transition-all">
                                        <div className="font-bold">üìñ Ultimate Maestro Codex</div>
                                        <div className="text-xs text-gray-400">8 pillars of transmutation</div>
                                    </div>
                                </>
                            )}
                                    <div onClick={() => { setActiveSection('quiz'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700">
            <div className="font-bold flex justify-between items-center">
                <span>üß† Interactive Quizzes</span>
                <span className="text-xs bg-purple-500 text-gray-900 px-2 py-1 rounded font-bold">20</span>
            </div>
            <div className="text-xs text-gray-400">Verbs ‚Ä¢ Connectors ‚Ä¢ Themes</div>
        </div>

                            {/* ADVANCED */}
                            {activePanel === 'advanced' && (
                                <>
                                    <div className="text-xs font-black text-gray-500 uppercase mb-4">üöÄ ADVANCED LEVEL</div>
                                    <div onClick={() => { setActiveSection('exercises'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-cyan-500 transition-all">
                                        <div className="font-bold">üí´ Flash Transmutation</div>
                                        <div className="text-xs text-gray-400">Quick B2 ‚Üí C2 exercises</div>
                                    </div>
                                    <div onClick={() => { setActiveSection('structures'); setIsPanelOpen(false); }} className="p-3 rounded-xl cursor-pointer hover:bg-gray-800 border border-gray-700 hover:border-pink-500 transition-all">
                                        <div className="font-bold">üèõÔ∏è Advanced Structures</div>
                                        <div className="text-xs text-gray-400">C2+ diplomatic formulas</div>
                                    </div>
                                    <div className="p-3 rounded-xl bg-gradient-to-r from-gray-800 to-gray-900 border border-gray-700">
                                        <div className="font-bold text-cyan-300">üéì Maestro Certification</div>
                                        <div className="text-xs text-gray-400 mt-1">Available after 5 exams</div>
                                        <div className="mt-2 text-xs text-gray-500">Required score: 85/100</div>
                                    </div>
                                </>
                            )}

                            {/* PROGRESSION */}
                            <div className="mt-8 pt-6 border-t border-gray-800">
                                <div className="text-xs font-black text-gray-500 uppercase mb-3">YOUR PROGRESSION</div>
                                <div className="space-y-3">
                                    <div>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span>C2 Verbs</span>
                                            <span className="text-cyan-400">{userProgress.verbsMastered}/50</span>
                                        </div>
                                        <div className="w-full bg-gray-800 rounded-full h-2">
                                            <div 
                                                className="bg-gradient-to-r from-cyan-500 to-blue-500 h-2 rounded-full" 
                                                style={{ width: `${(userProgress.verbsMastered/50)*100}%` }}
                                            ></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div className="flex justify-between text-sm mb-1">
                                            <span>Connectors</span>
                                            <span className="text-pink-400">{userProgress.connectorsMastered}/15</span>
                                        </div>
                                        <div className="w-full bg-gray-800 rounded-full h-2">
                                            <div 
                                                className="bg-gradient-to-r from-pink-500 to-purple-500 h-2 rounded-full" 
                                                style={{ width: `${(userProgress.connectorsMastered/15)*100}%` }}
                                            ></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    {/* Main Content */}
                    <div className={`flex-1 pt-16 transition-all duration-300 ${isPanelOpen ? 'ml-[400px]' : 'ml-20'}`}>
                        <div className="p-8 max-w-7xl mx-auto">
                            
                            {/* ============ DASHBOARD ============ */}
                            {activeSection === 'dashboard' && (
                                <div className="space-y-8">
                                    <div>
                                        <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                            MAESTRO C2 HACK ULTIMATE
                                        </h1>
                                        <p className="text-xl text-gray-400">Complete neural system for linguistic transmutation B2 ‚Üí C2 Expert
                                            developed by Prof. Rachid Azzouz   January 2026</p>
                                    </div>

                                    {/* Stats */}
                                    <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        {[
                                            { label: 'Mastered Verbs', value: userProgress.verbsMastered, total: 50, color: 'from-cyan-500 to-blue-500', icon: '‚ö°' },
                                            { label: 'C2 Connectors', value: userProgress.connectorsMastered, total: 15, color: 'from-pink-500 to-purple-500', icon: 'üîó' },
                                            { label: 'Studied Themes', value: userProgress.themesStudied, total: 5, color: 'from-green-500 to-emerald-500', icon: 'üåç' },
                                            { label: 'Total Score', value: userProgress.totalScore, total: 100, color: 'from-yellow-500 to-orange-500', icon: 'üéØ' }
                                        ].map((stat, i) => (
                                            <div key={i} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-cyan-500 transition-all group">
                                                <div className="flex items-center justify-between mb-4">
                                                    <div className="text-3xl">{stat.icon}</div>
                                                    <div className="text-xs bg-gray-700 px-3 py-1 rounded-full">MAX {stat.total}</div>
                                                </div>
                                                <div className="text-4xl font-black bg-gradient-to-r bg-clip-text text-transparent mb-2" style={{ backgroundImage: `linear-gradient(to right, ${stat.color})` }}>
                                                    {stat.value}
                                                </div>
                                                <div className="text-sm text-gray-400 uppercase">{stat.label}</div>
                                                <div className="mt-4 w-full bg-gray-700 rounded-full h-2">
                                                    <div 
                                                        className={`bg-gradient-to-r ${stat.color} h-2 rounded-full transition-all duration-500`}
                                                        style={{ width: `${(stat.value/stat.total)*100}%` }}
                                                    ></div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Quick Actions */}
                                    <div className="bg-gradient-to-br from-gray-800 to-gray-900 border border-cyan-500/30 rounded-2xl p-8">
                                        <h2 className="text-2xl font-bold mb-6 text-cyan-300">üöÄ Where to start your training?</h2>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <button onClick={() => { setActiveSection('arsenal'); setIsPanelOpen(false); }} className="p-5 bg-gray-800 rounded-xl hover:bg-gray-700 text-left group border border-gray-700 hover:border-cyan-500 transition-all">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className="text-2xl">‚ö°</div>
                                                    <div className="font-bold text-lg">1. Master the 50 verbs</div>
                                                </div>
                                                <div className="text-sm text-gray-400">Fundamentals of C2 transmutation. Learn the expert equivalents of each B2 verb.</div>
                                            </button>
                                            <button onClick={() => { setActiveSection('lab'); setIsPanelOpen(false); }} className="p-5 bg-gray-800 rounded-xl hover:bg-gray-700 text-left group border border-gray-700 hover:border-pink-500 transition-all">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className="text-2xl">üß™</div>
                                                    <div className="font-bold text-lg">2. Test the AI Laboratory</div>
                                                </div>
                                                <div className="text-sm text-gray-400">Instant B2 ‚Üí C2 transmutation with detailed analysis of transformations.</div>
                                            </button>
                                            <button onClick={() => { setActiveSection('theme-energy'); setIsPanelOpen(false); }} className="p-5 bg-gray-800 rounded-xl hover:bg-gray-700 text-left group border border-gray-700 hover:border-green-500 transition-all">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className="text-2xl">üåç</div>
                                                    <div className="font-bold text-lg">3. Explore a geopolitical theme</div>
                                                </div>
                                                <div className="text-sm text-gray-400">Energy & Sovereignty: compare B2 and C2 versions with interactive toggle.</div>
                                            </button>
                                            <button onClick={() => { setActiveSection('exams'); setIsPanelOpen(false); }} className="p-5 bg-gray-800 rounded-xl hover:bg-gray-700 text-left group border border-gray-700 hover:border-yellow-500 transition-all">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <div className="text-2xl">üìù</div>
                                                    <div className="font-bold text-lg">4. Take a mock exam</div>
                                                </div>
                                                <div className="text-sm text-gray-400">5 certification tests with detailed criteria and Maestro validation.</div>
                                            </button>
                                        </div>
                                    </div>

                                    {/* Today's Focus */}
                                    <div className="bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-500 rounded-2xl p-8">
                                        <h2 className="text-2xl font-bold mb-4 text-purple-300">üéØ Today's Focus</h2>
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-lg font-bold text-cyan-400 mb-2">Verb of the Day</div>
                                                <div className="text-2xl font-black mb-2">Transfigure</div>
                                                <div className="text-sm text-gray-400">Instead of "change nobly"</div>
                                                <div className="mt-3 text-xs text-gray-500">Ex: "Morocco transfigures its energy mix."</div>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-lg font-bold text-pink-400 mb-2">Connector of the Day</div>
                                                <div className="text-2xl font-black mb-2">Notwithstanding</div>
                                                <div className="text-sm text-gray-400">Instead of "even if" with elegance</div>
                                                <div className="mt-3 text-xs text-gray-500">Ex: "Notwithstanding sanctions, Russia resists."</div>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-lg font-bold text-yellow-400 mb-2">Structure of the Day</div>
                                                <div className="text-xl font-black mb-2">Had it... it would have...</div>
                                                <div className="text-sm text-gray-400">Inversion of past subjunctive</div>
                                                <div className="mt-3 text-xs text-gray-500">Ex: "Had China followed this path..."</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ VERBS ARSENAL ============ */}
                            {activeSection === 'arsenal' && (
                                <div className="space-y-6">
                                    <div className="flex justify-between items-center">
                                        <div>
                                            <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-2">
                                                50 Verbs Arsenal
                                            </h1>
                                            <p className="text-xl text-gray-400">Complete B2 ‚Üí C2 transmutation ‚Ä¢ {userProgress.verbsMastered}/50 mastered</p>
                                        </div>
                                        <div className="flex gap-2">
                                            <button className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700">
                                                All
                                            </button>
                                            <button className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700">
                                                Mastered
                                            </button>
                                            <button className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700">
                                                To review
                                            </button>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {verbsData.map(verb => (
                                            <div 
                                                key={verb.id} 
                                                className={`bg-gray-800 border rounded-xl p-5 hover:border-cyan-500 transition-all cursor-pointer group ${
                                                    verb.mastered ? 'border-green-500/50' : 'border-gray-700'
                                                }`}
                                                onClick={() => toggleVerbMastery(verb.id)}
                                            >
                                                <div className="flex justify-between items-start mb-3">
                                                    <div className="flex items-center gap-3">
                                                        <span className={`text-xs font-black px-2 py-1 rounded ${
                                                            verb.mastered ? 'bg-green-500 text-gray-900' : 'bg-gray-600'
                                                        }`}>
                                                            B2
                                                        </span>
                                                        <span className="text-gray-400 line-through text-lg">{verb.b2}</span>
                                                    </div>
                                                    {verb.mastered && (
                                                        <span className="text-xs bg-green-500 text-gray-900 px-2 py-1 rounded font-bold">
                                                            ‚úì MASTERED
                                                        </span>
                                                    )}
                                                </div>
                                                <div className="mb-3">
                                                    <span className="text-xs font-black bg-gradient-to-r from-cyan-500 to-pink-500 px-2 py-1 rounded text-white mr-2">
                                                        C2
                                                    </span>
                                                    <span className="text-lg font-bold text-cyan-400">{verb.c2}</span>
                                                </div>
                                                <p className="text-sm text-gray-400 mb-4">{verb.desc}</p>
                                                <div className="flex justify-between items-center">
                                                    <div className="text-xs text-gray-500">
                                                        ID #{verb.id.toString().padStart(2, '0')}
                                                    </div>
                                                    <button className="text-xs px-3 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        {verb.mastered ? 'Mark to review' : 'Mark as mastered'}
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Stats Footer */}
                                    <div className="mt-8 p-6 bg-gray-800 rounded-2xl border border-gray-700">
                                        <h3 className="text-xl font-bold mb-4 text-cyan-300">üìä Arsenal Statistics</h3>
                                        <div className="grid grid-cols-4 gap-4">
                                            <div className="text-center">
                                                <div className="text-3xl font-black text-cyan-400">50</div>
                                                <div className="text-sm text-gray-400">Total verbs</div>
                                            </div>
                                            <div className="text-center">
                                                <div className="text-3xl font-black text-green-400">{userProgress.verbsMastered}</div>
                                                <div className="text-sm text-gray-400">Mastered</div>
                                            </div>
                                            <div className="text-center">
                                                <div className="text-3xl font-black text-yellow-400">{50 - userProgress.verbsMastered}</div>
                                                <div className="text-sm text-gray-400">To learn</div>
                                            </div>
                                            <div className="text-center">
                                                <div className="text-3xl font-black text-pink-400">{Math.round((userProgress.verbsMastered/50)*100)}%</div>
                                                <div className="text-sm text-gray-400">Progression</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ CONNECTORS ============ */}
                            {activeSection === 'connectors' && (
                                <div className="space-y-6">
                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                        Connectors Compass
                                    </h1>
                                    <p className="text-xl text-gray-400">15 logical connectors to structure C2 argumentation</p>

                                    <div className="space-y-4">
                                        {connectorsData.map((conn) => (
                                            <div key={conn.id} className="bg-gray-800 border border-gray-700 rounded-xl p-6 hover:border-pink-500 transition-all group">
                                                <div className="mb-4">
                                                    <div className="flex items-center gap-3 mb-2">
                                                        <span className="text-xs font-black bg-purple-600 px-3 py-1 rounded">{conn.type}</span>
                                                        <div className="text-gray-400 line-through text-lg">{conn.b2}</div>
                                                        <div className="text-gray-500">‚Üí</div>
                                                        <div className="text-xl font-bold text-pink-400">{conn.c2}</div>
                                                    </div>
                                                    <p className="text-sm text-gray-400 italic mb-3">Impact: {conn.impact}</p>
                                                    <div className="bg-gray-900 rounded-lg p-4">
                                                        <div className="text-sm text-gray-500 mb-1">Application example:</div>
                                                        <p className="text-gray-300">{conn.example}</p>
                                                    </div>
                                                </div>
                                                <div className="flex justify-between items-center">
                                                    <div className="text-xs text-gray-500">
                                                        Connector #{conn.id.toString().padStart(2, '0')}
                                                    </div>
                                                    <button className="text-xs px-3 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        Use in the Lab
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Practical Application */}
                                    <div className="mt-8 p-8 bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-purple-300">üß™ Practical Application</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div className="bg-gray-800 rounded-xl p-5">
                                                <h4 className="text-lg font-bold mb-3 text-gray-300">B2 Version (Scholastic)</h4>
                                                <p className="text-gray-400 italic">
                                                    "BRICS want to create a currency because the dollar is too strong. But, it's difficult even if India and China agree. Therefore, we must wait to see the result."
                                                </p>
                                            </div>
                                            <div className="bg-gray-800 rounded-xl p-5 border border-pink-500">
                                                <h4 className="text-lg font-bold mb-3 text-pink-400">C2 Maestro Version</h4>
                                                <p className="text-gray-200 italic">
                                                    "BRICS aspire to institute an alternative unit of account with a view to stemming the hegemony of the greenback. However, implementation proves complex, notwithstanding the strategic alignment of New Delhi and Beijing. Consequently, it is appropriate to observe whether this endeavor will result in a systemic overhaul."
                                                </p>
                                            </div>
                                        </div>
                                        <div className="mt-4 text-sm text-gray-400">
                                            <span className="font-bold text-cyan-400">Connectors used:</span> With a view to (purpose), However (opposition), Notwithstanding (concession), Consequently (consequence)
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ VERB TENSES ============ */}
                            {activeSection === 'tenses' && (
                                <div className="space-y-6">
                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                        Tenses Transmutation
                                    </h1>
                                    <p className="text-xl text-gray-400">6 expert C2 verb tenses with geopolitical examples</p>

                                    <div className="space-y-6">
                                        {tensesData.map(tenses => (
                                            <div key={tenses.id} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-cyan-500 transition-all">
                                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                                    {/* B2 Version */}
                                                    <div>
                                                        <div className="flex items-center gap-3 mb-4">
                                                            <span className="text-xs font-black bg-gray-600 px-3 py-1 rounded">B2</span>
                                                            <span className="text-xl font-bold text-gray-300">{tenses.b2}</span>
                                                        </div>
                                                        <div className="bg-gray-900 rounded-xl p-5 mb-3">
                                                            <div className="text-sm text-gray-500 mb-2">B2 Example:</div>
                                                            <p className="text-gray-300 italic">"{tenses.exampleB2}"</p>
                                                        </div>
                                                        <div className="text-sm text-gray-400">
                                                            <span className="font-bold">B2 Usage:</span> {tenses.usage.split('.').slice(0, 1).join('.')}.
                                                        </div>
                                                    </div>
                                                    
                                                    {/* C2 Version */}
                                                    <div>
                                                        <div className="flex items-center gap-3 mb-4">
                                                            <span className="text-xs font-black bg-gradient-to-r from-cyan-500 to-pink-500 px-3 py-1 rounded text-white">C2</span>
                                                            <span className="text-xl font-bold text-cyan-400">{tenses.c2}</span>
                                                        </div>
                                                        <div className="bg-gradient-to-br from-gray-900 to-gray-800 border border-cyan-500 rounded-xl p-5 mb-3">
                                                            <div className="text-sm text-cyan-500 mb-2">C2 Example:</div>
                                                            <p className="text-cyan-300 italic">"{tenses.exampleC2}"</p>
                                                        </div>
                                                        <div className="text-sm text-gray-400">
                                                            <span className="font-bold">C2 Added value:</span> {tenses.desc}
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div className="mt-6 pt-6 border-t border-gray-700">
                                                    <div className="text-sm font-bold text-gray-500 mb-2">üéØ Maestro Rule:</div>
                                                    <p className="text-gray-300">{tenses.usage}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Transmutation Exercise */}
                                    <div className="mt-8 p-8 bg-gradient-to-r from-cyan-900/20 to-blue-900/20 border border-cyan-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-cyan-300">üí´ Flash Transmutation Exercise</h3>
                                        <div className="space-y-4">
                                            <div className="bg-gray-800 rounded-xl p-5">
                                                <h4 className="text-lg font-bold mb-3 text-gray-300">Subject: Russia and sanctions</h4>
                                                <p className="text-gray-400 text-lg mb-4">
                                                    <span className="font-bold">B2 Version:</span> "If Russia had not had China's help, it would have lost its economy."
                                                </p>
                                                <div className="bg-gray-900 rounded-lg p-4">
                                                    <div className="text-sm text-cyan-400 mb-2">üéØ Hint for C2 version:</div>
                                                    <p className="text-gray-300">Use inversion of past subjunctive (Had... been) and past conditional 2nd form (would have withered).</p>
                                                </div>
                                                <button className="mt-4 px-4 py-2 bg-cyan-500/20 border border-cyan-500 rounded-lg hover:bg-cyan-500/30">
                                                    See solution
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ GEOPOLITICAL THEMES ============ */}
                            {activeSection.startsWith('theme-') && (() => {
                                const themeId = activeSection.replace('theme-', '');
                                const theme = themesData.find(t => t.id === themeId);
                                
                                return theme && (
                                    <div className="space-y-6">
                                        {/* Header with toggle */}
                                        <div className="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6">
                                            <div className="flex items-center gap-4">
                                                <div className="text-6xl">{theme.icon}</div>
                                                <div>
                                                    <h1 className="text-5xl font-black">{theme.title}</h1>
                                                    <p className="text-xl text-gray-400">{theme.subtitle}</p>
                                                </div>
                                            </div>
                                            <div className="flex gap-2 bg-gray-800 rounded-xl p-1">
                                                <button 
                                                    onClick={() => setThemeVersion('b2')}
                                                    className={`px-6 py-3 rounded-lg transition-all ${themeVersion === 'b2' ? 'bg-gray-700' : 'hover:bg-gray-700'}`}
                                                >
                                                    <span className={`font-bold ${themeVersion === 'b2' ? 'text-gray-300' : 'text-gray-500'}`}>B2 Version</span>
                                                </button>
                                                <button 
                                                    onClick={() => setThemeVersion('c2')}
                                                    className={`px-6 py-3 rounded-lg transition-all ${themeVersion === 'c2' ? 'bg-gradient-to-r from-cyan-500/20 to-pink-500/20 border border-cyan-500' : 'hover:bg-gray-700'}`}
                                                >
                                                    <span className={`font-bold ${themeVersion === 'c2' ? 'text-cyan-400' : 'text-gray-500'}`}>C2 Version</span>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        {/* Description */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                            <h2 className="text-2xl font-bold mb-4 text-cyan-400">üìñ Geopolitical Issue</h2>
                                            <p className="text-gray-300 leading-relaxed text-lg">{theme.description}</p>
                                        </div>
                                        
                                        {/* Text with toggle */}
                                        <div className={`rounded-2xl p-8 transition-all ${themeVersion === 'c2' ? 'bg-gradient-to-br from-gray-800 to-gray-900 border border-pink-500' : 'bg-gray-800 border border-gray-700'}`}>
                                            <h2 className="text-2xl font-bold mb-6 flex items-center gap-3">
                                                {themeVersion === 'c2' ? (
                                                    <>
                                                        <span className="text-pink-400">‚ú® C2 Maestro Version</span>
                                                        <span className="text-xs bg-gradient-to-r from-cyan-500 to-pink-500 text-white px-3 py-1 rounded-full">EXPERT LEVEL</span>
                                                    </>
                                                ) : (
                                                    <>
                                                        <span className="text-gray-300">üìù B2 Version (Base)</span>
                                                        <span className="text-xs bg-gray-600 text-white px-3 py-1 rounded-full">INTERMEDIATE LEVEL</span>
                                                    </>
                                                )}
                                            </h2>
                                            <div className={`leading-relaxed text-lg space-y-4 ${themeVersion === 'c2' ? 'text-gray-200' : 'text-gray-300'}`}>
                                                {themeVersion === 'c2' ? (
                                                    theme.texteC2.split('. ').map((sentence, i) => (
                                                        <p key={i} className="italic">{sentence.trim() + (sentence.trim().endsWith('.') ? '' : '.')}</p>
                                                    ))
                                                ) : (
                                                    theme.texteB2.split('. ').map((sentence, i) => (
                                                        <p key={i}>{sentence.trim() + (sentence.trim().endsWith('.') ? '' : '.')}</p>
                                                    ))
                                                )}
                                            </div>
                                        </div>
                                        
                                        {/* Tools for this theme */}
                                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                            {/* Key verbs */}
                                            <div className="bg-gradient-to-r from-cyan-900/20 to-blue-900/20 border border-cyan-500 rounded-2xl p-6">
                                                <h3 className="text-xl font-bold mb-4 text-cyan-300">‚ö° Key Verbs for this theme</h3>
                                                <div className="flex flex-wrap gap-2">
                                                    {theme.keyVerbs.map((verbe, i) => (
                                                        <div key={i} className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 cursor-pointer transition-all">
                                                            <div className="font-bold text-cyan-400">{verbe}</div>
                                                        </div>
                                                    ))}
                                                </div>
                                                <div className="mt-4 text-sm text-gray-400">
                                                    Click on a verb to add it to the Lab
                                                </div>
                                            </div>
                                            
                                            {/* Key connectors */}
                                            <div className="bg-gradient-to-r from-pink-900/20 to-purple-900/20 border border-pink-500 rounded-2xl p-6">
                                                <h3 className="text-xl font-bold mb-4 text-pink-300">üîó Essential Connectors</h3>
                                                <div className="flex flex-wrap gap-2">
                                                    {theme.keyConnectors.map((connector, i) => (
                                                        <div key={i} className="px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 cursor-pointer transition-all">
                                                            <div className="font-bold text-pink-400">{connector}</div>
                                                        </div>
                                                    ))}
                                                </div>
                                                <div className="mt-4 text-sm text-gray-400">
                                                    Indispensable structures for this theme
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* Comparative analysis */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-6 text-yellow-400">üîç Comparative Analysis</h3>
                                            <div className="space-y-4">
                                                <div className="flex items-start gap-4">
                                                    <div className="text-2xl">üìù</div>
                                                    <div>
                                                        <h4 className="text-lg font-bold mb-2 text-gray-300">What the C2 version brings:</h4>
                                                        <ul className="text-gray-400 space-y-2">
                                                            <li className="flex items-center gap-2">
                                                                <div className="w-2 h-2 bg-cyan-500 rounded-full"></div>
                                                                <span><strong>Conceptual precision</strong>: replaces vague terms with specialized geopolitical lexicon</span>
                                                            </li>
                                                            <li className="flex items-center gap-2">
                                                                <div className="w-2 h-2 bg-cyan-500 rounded-full"></div>
                                                                <span><strong>Syntactic complexity</strong>: uses subordinate clauses and inverted structures</span>
                                                            </li>
                                                            <li className="flex items-center gap-2">
                                                                <div className="w-2 h-2 bg-cyan-500 rounded-full"></div>
                                                                <span><strong>Objective and analytical tone</strong>: avoids personal judgments, adopts diplomatic style</span>
                                                            </li>
                                                            <li className="flex items-center gap-2">
                                                                <div className="w-2 h-2 bg-cyan-500 rounded-full"></div>
                                                                <span><strong>Sophisticated connectors</strong>: replaces "but" with "however", "because" with "due to"</span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                );
                            })()}

                            {/* ============ WRITTEN PRODUCTIONS ============ */}
                            {activeSection === 'productions' && (
                                <div className="space-y-6">
                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                        Model Written Productions
                                    </h1>
                                    <p className="text-xl text-gray-400">5 complete C2 texts analyzed ‚Ä¢ 120-145 words per production</p>

                                    <div className="space-y-8">
                                        {productionsData.map(prod => (
                                            <div key={prod.id} className="bg-gray-800 border border-gray-700 rounded-2xl p-8 hover:border-cyan-500 transition-all group">
                                                <div className="mb-6">
                                                    <div className="inline-block px-4 py-1 bg-gradient-to-r from-cyan-500 to-pink-500 rounded-full text-sm font-bold mb-3">
                                                        {prod.theme}
                                                    </div>
                                                    <h3 className="text-2xl font-bold text-cyan-400 mb-3">{prod.subject}</h3>
                                                    <div className="flex items-center gap-4 text-sm text-gray-500">
                                                        <span>üìä {prod.level}</span>
                                                        <span>üìù {prod.words} words</span>
                                                        <span>üéØ {prod.structures.length} structures</span>
                                                    </div>
                                                </div>
                                                
                                                <div className="bg-gradient-to-br from-gray-900 to-gray-800 border border-pink-500 rounded-xl p-6 mb-6">
                                                    <p className="text-gray-200 leading-relaxed text-lg italic">{prod.text}</p>
                                                </div>
                                                
                                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                                    <div>
                                                        <h4 className="text-lg font-bold mb-3 text-gray-300">‚ö° C2 Verbs used</h4>
                                                        <div className="flex flex-wrap gap-2">
                                                            {prod.verbs.map((verbe, i) => (
                                                                <span key={i} className="px-3 py-1 bg-gray-700 rounded-lg text-sm text-cyan-400">
                                                                    {verbe}
                                                                </span>
                                                            ))}
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-lg font-bold mb-3 text-gray-300">üîó Advanced structures</h4>
                                                        <div className="flex flex-wrap gap-2">
                                                            {prod.structures.map((struct, i) => (
                                                                <span key={i} className="px-3 py-1 bg-gray-700 rounded-lg text-sm text-pink-400">
                                                                    {struct}
                                                                </span>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div className="mt-6 pt-6 border-t border-gray-700 flex gap-4">
                                                    <button className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 flex items-center gap-2">
                                                        <span>üìã</span>
                                                        Copy model
                                                    </button>
                                                    <button className="px-4 py-2 bg-cyan-500/20 border border-cyan-500 rounded-lg hover:bg-cyan-500/30 flex items-center gap-2">
                                                        <span>‚úçÔ∏è</span>
                                                        Train on this subject
                                                    </button>
                                                    <button className="px-4 py-2 bg-pink-500/20 border border-pink-500 rounded-lg hover:bg-pink-500/30 flex items-center gap-2 ml-auto">
                                                        <span>üîç</span>
                                                        Detailed analysis
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="mt-8 p-8 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-green-300">üéì Advice for your C2 productions</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-2xl mb-3">1</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Plan your structure</h4>
                                                <p className="text-sm text-gray-400">Always start with an introduction that poses the problem, followed by a development in 2-3 parts, and conclude with an opening.</p>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-2xl mb-3">2</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Vary structures</h4>
                                                <p className="text-sm text-gray-400">Alternate short and long sentences, use different forms of subordination, and integrate at least one inversion.</p>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-2xl mb-3">3</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Refine conclusion</h4>
                                                <p className="text-sm text-gray-400">End with a striking sentence that summarizes your position without repeating what has already been said. Use a perspective future.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ AI LABORATORY ============ */}
                            {activeSection === 'lab' && (
                                <div className="space-y-6">
                                    <div>
                                        <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                            üß™ Transmutation Laboratory
                                        </h1>
                                        <p className="text-xl text-gray-400">Neural system for real-time B2 ‚Üí C2 transmutation</p>
                                    </div>
                                    
                                    {/* Main interface */}
                                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                        {/* Input zone */}
                                        <div className="lg:col-span-2">
                                            <div className="bg-gradient-to-br from-cyan-900/20 to-pink-900/20 border border-cyan-500 rounded-2xl p-6">
                                                <h3 className="text-xl font-bold mb-4 text-cyan-300">‚ö° Ultimate Maestro Generator</h3>
                                                <div className="space-y-4">
                                                    <div>
                                                        <label className="block text-sm font-bold mb-2">Input text (B2)</label>
                                                        <textarea 
                                                            value={inputText}
                                                            onChange={(e) => setInputText(e.target.value)}
                                                            placeholder="Paste or type your B2 text here... Ex: 'China wants to have more influence in Africa. It builds ports and roads with its money. African countries lose their freedom because of that.'"
                                                            className="w-full h-48 bg-gray-900 border border-gray-700 rounded-xl p-4 focus:border-cyan-500 focus:outline-none resize-none text-lg"
                                                        />
                                                        <div className="flex justify-between items-center mt-2">
                                                            <div className="text-xs text-gray-500">
                                                                <span className="font-bold">Tip:</span> Leave empty for a random example
                                                            </div>
                                                            <div className="text-xs text-gray-500">
                                                                {inputText.length} characters
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <button 
                                                        onClick={handleTransmute}
                                                        className="w-full bg-gradient-to-r from-cyan-500 to-pink-500 text-white font-bold py-4 rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-3 text-lg"
                                                    >
                                                        <span className="text-2xl">‚ö°</span>
                                                        TRANSMUTE TO C2 ULTIMATE
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* Quick examples */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6">
                                            <h3 className="text-xl font-bold mb-4 text-cyan-300">üí° Quick examples</h3>
                                            <div className="space-y-4">
                                                {labExamples.slice(0, 3).map((ex, index) => (
                                                    <div 
                                                        key={index} 
                                                        className="p-4 bg-gray-900 rounded-xl hover:bg-gray-800 cursor-pointer transition-all group"
                                                        onClick={() => {
                                                            setInputText(ex.b2);
                                                        }}
                                                    >
                                                        <div className="text-sm text-gray-400 mb-2">B2:</div>
                                                        <p className="text-gray-300 mb-3 text-sm line-clamp-2">{ex.b2}</p>
                                                        <div className="text-sm text-cyan-400 mb-2">C2:</div>
                                                        <p className="text-cyan-300 text-sm line-clamp-2">{ex.c2}</p>
                                                        <div className="mt-2 text-xs text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity">
                                                            Click to load this example
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                            <button 
                                                onClick={() => {
                                                    const randomEx = labExamples[Math.floor(Math.random() * labExamples.length)];
                                                    setInputText(randomEx.b2);
                                                }}
                                                className="w-full mt-4 px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600"
                                            >
                                                Load a random example
                                            </button>
                                        </div>
                                    </div>
                                    
                                    {/* Result */}
                                    {outputText && (
                                        <div className="mt-6">
                                            <div className="bg-gradient-to-br from-gray-800 to-gray-900 border border-pink-500 rounded-2xl p-6">
                                                <div className="flex justify-between items-center mb-4">
                                                    <h3 className="text-xl font-bold text-pink-400">‚ú® Result (C2 Ultimate)</h3>
                                                    <button 
                                                        onClick={() => navigator.clipboard.writeText(outputText.replace(/<[^>]*>/g, ''))}
                                                        className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 flex items-center gap-2"
                                                    >
                                                        <span>üìã</span>
                                                        Copy text
                                                    </button>
                                                </div>
                                                <div 
                                                    className="bg-gray-900 rounded-xl p-6 leading-relaxed text-lg"
                                                    dangerouslySetInnerHTML={{ __html: outputText }}
                                                ></div>
                                                
                                                {/* Analysis */}
                                                <div className="mt-6 pt-6 border-t border-gray-700">
                                                    <h4 className="text-lg font-bold mb-3 text-cyan-300">üîç Transformation analysis</h4>
                                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                        <div className="p-4 bg-gray-800 rounded-lg">
                                                            <div className="text-sm text-gray-400 mb-1">Transformed verbs</div>
                                                            <div className="text-lg font-bold text-cyan-400">8/10</div>
                                                        </div>
                                                        <div className="p-4 bg-gray-800 rounded-lg">
                                                            <div className="text-sm text-gray-400 mb-1">C2 Connectors</div>
                                                            <div className="text-lg font-bold text-pink-400">4/5</div>
                                                        </div>
                                                        <div className="p-4 bg-gray-800 rounded-lg">
                                                            <div className="text-sm text-gray-400 mb-1">Level reached</div>
                                                            <div className="text-lg font-bold text-yellow-400">C1 ‚Üí C2</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Complete examples */}
                                    <div className="mt-8">
                                        <h3 className="text-2xl font-bold mb-4 text-cyan-300">üìö Complete transmutation examples</h3>
                                        <div className="space-y-6">
                                            {labExamples.map((ex, index) => (
                                                <div key={index} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-cyan-500 transition-all">
                                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                                        <div>
                                                            <h4 className="text-lg font-bold mb-3 text-gray-300">B2 Version</h4>
                                                            <div className="bg-gray-900 rounded-xl p-5">
                                                                <p className="text-gray-300">{ex.b2}</p>
                                                            </div>
                                                        </div>
                                                        <div>
                                                            <h4 className="text-lg font-bold mb-3 text-cyan-400">C2 Maestro Version</h4>
                                                            <div className="bg-gradient-to-br from-gray-900 to-gray-800 border border-cyan-500 rounded-xl p-5">
                                                                <p className="text-cyan-300">{ex.c2}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div className="mt-6 pt-6 border-t border-gray-700">
                                                        <h5 className="text-sm font-bold mb-2 text-gray-400">Transformation analysis:</h5>
                                                        <p className="text-sm text-gray-400">{ex.analysis}</p>
                                                    </div>
                                                    <div className="mt-4 flex gap-2">
                                                        <button 
                                                            onClick={() => setInputText(ex.b2)}
                                                            className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 text-sm"
                                                        >
                                                            Load in generator
                                                        </button>
                                                        <button 
                                                            onClick={() => setOutputText(`üéØ EXAMPLE #${index+1}\n\nüìù B2: "${ex.b2}"\n\n‚ö° C2: "${ex.c2}"\n\nüîç ${ex.analysis}`)}
                                                            className="px-4 py-2 bg-cyan-500/20 border border-cyan-500 rounded-lg hover:bg-cyan-500/30 text-sm"
                                                        >
                                                            See result
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ MOCK EXAMS ============ */}
                            {activeSection === 'exams' && (
                                <div className="space-y-6">
                                    <div>
                                        <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                            üìù Ultimate Mock Exams
                                        </h1>
                                        <p className="text-xl text-gray-400">5 Maestro C2 certification tests ‚Ä¢ 60 minutes each</p>
                                    </div>

                                    <div className="grid gap-6">
                                        {examsData.map(exam => (
                                            <div key={exam.id} className="bg-gray-800 border border-gray-700 rounded-2xl p-8 hover:border-cyan-500 transition-all group">
                                                <div className="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
                                                    <div>
                                                        <h3 className="text-2xl font-bold text-cyan-400 mb-2">{exam.title}</h3>
                                                        <div className="flex flex-wrap items-center gap-4 text-sm text-gray-400">
                                                            <span className="flex items-center gap-2">
                                                                <span>‚è±Ô∏è</span>
                                                                <span>{exam.duration}</span>
                                                            </span>
                                                            <span className="flex items-center gap-2">
                                                                <span>üìä</span>
                                                                <span>{exam.level}</span>
                                                            </span>
                                                            <span className="flex items-center gap-2">
                                                                <span>üåç</span>
                                                                <span>{exam.theme}</span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-xs bg-yellow-500 text-gray-900 px-3 py-1 rounded-full font-bold">
                                                            NOT STARTED
                                                        </span>
                                                        <button 
                                                            onClick={() => startExam(exam.id)}
                                                            className="px-6 py-3 bg-gradient-to-r from-cyan-500 to-pink-500 text-white font-bold rounded-xl hover:opacity-90 flex items-center gap-3"
                                                        >
                                                            <span>‚ñ∂</span>
                                                            Start exam
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <div className="bg-gray-900 rounded-xl p-6 mb-6">
                                                    <div className="text-sm font-bold text-gray-400 mb-3">SUBJECT:</div>
                                                    <p className="text-gray-200 text-lg">{exam.subject}</p>
                                                </div>
                                                
                                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                                    <div>
                                                        <h4 className="text-lg font-bold mb-3 text-gray-300">üéØ Specific instructions</h4>
                                                        <div className="bg-gray-900/50 rounded-lg p-4">
                                                            <p className="text-gray-300 whitespace-pre-line">{exam.instructions}</p>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h4 className="text-lg font-bold mb-3 text-gray-300">üìä Evaluation criteria</h4>
                                                        <div className="space-y-2">
                                                            {exam.criteria.map((criterion, i) => (
                                                                <div key={i} className="flex justify-between items-center p-3 bg-gray-900/50 rounded-lg">
                                                                    <span className="text-gray-300">{criterion}</span>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div className="mt-6 pt-6 border-t border-gray-700 flex justify-between items-center">
                                                    <div className="text-sm text-gray-500">
                                                        Exam #{exam.id} ‚Ä¢ Minimum recommended score: 75/100
                                                    </div>
                                                    <button 
                                                        onClick={() => startExam(exam.id)}
                                                        className="px-6 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 opacity-0 group-hover:opacity-100 transition-opacity"
                                                    >
                                                        Preview interface
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Maestro Certification */}
                                    <div className="mt-8 p-8 bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-yellow-300">üéì Maestro C2 Certification</h3>
                                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-3xl mb-3">1</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Pass the 5 exams</h4>
                                                <p className="text-sm text-gray-400">Complete the 5 tests with a minimum score of 75/100 on each.</p>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-3xl mb-3">2</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Master 45+ verbs</h4>
                                                <p className="text-sm text-gray-400">Ensure you know at least 45 of the 50 Arsenal verbs.</p>
                                            </div>
                                            <div className="bg-gray-800/50 rounded-xl p-5">
                                                <div className="text-3xl mb-3">3</div>
                                                <h4 className="text-lg font-bold mb-2 text-gray-300">Final production</h4>
                                                <p className="text-sm text-gray-400">Write a 500-word essay on a complex geopolitical subject.</p>
                                            </div>
                                        </div>
                                        <div className="mt-6 text-center">
                                            <button className="px-8 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-gray-900 font-bold rounded-xl hover:opacity-90">
                                                START CERTIFICATION PROCESS
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ MAESTRO CODEX ============ */}
                            {activeSection === 'codex' && (
                                <div className="space-y-6">
                                    <div>
                                        <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                            üìñ Ultimate Maestro Codex
                                        </h1>
                                        <p className="text-xl text-gray-400">The 8 fundamental pillars of B2 ‚Üí C2 transmutation</p>
                                    </div>

                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        {codexData.map((item, i) => (
                                            <div key={i} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-pink-500 transition-all group">
                                                <div className="flex items-start gap-4 mb-4">
                                                    <div className="text-3xl">{item.icon}</div>
                                                    <div>
                                                        <h3 className="text-xl font-bold text-cyan-400 mb-2">{item.name}</h3>
                                                        <p className="text-gray-400 text-sm">{item.desc}</p>
                                                    </div>
                                                </div>
                                                
                                                <div className="mb-4">
                                                    <div className="text-sm font-bold text-gray-500 mb-2">Example:</div>
                                                    <div className="bg-gray-900 rounded-lg p-4">
                                                        <div className="text-pink-400 font-mono text-sm">{item.ex}</div>
                                                    </div>
                                                </div>
                                                
                                                <div className="mb-4">
                                                    <div className="text-sm font-bold text-gray-500 mb-2">Maestro Rule:</div>
                                                    <p className="text-gray-300 text-sm">{item.rule}</p>
                                                </div>
                                                
                                                <div className="bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg p-4 border border-gray-700">
                                                    <div className="text-sm font-bold text-gray-500 mb-2">Complete example:</div>
                                                    <p className="text-cyan-300 text-sm">{item.completeExample}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* Bonus structures */}
                                    <div className="mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8">
                                        <div className="bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-4 text-purple-300">üõ†Ô∏è "Double Blade" Structure</h3>
                                            <div className="bg-gray-900 rounded-xl p-5 font-mono text-cyan-300 mb-4 text-lg">
                                                ""If, on one hand, [Fact A], it nevertheless remains that [Fact B]."
                                            </div>
                                            <p className="text-gray-300 italic mb-4">
                                                Example: "If, on one hand, Russia seems isolated on the international scene, it nevertheless remains that it methodically consolidates its alliances in Asia and devises an alternative security architecture."
                                            </p>
                                            <div className="text-sm text-gray-400">
                                                <span className="font-bold">Usage:</span> To nuance an analysis and show the complexity of a geopolitical situation.
                                            </div>
                                        </div>
                                        
                                        <div className="bg-gradient-to-r from-cyan-900/20 to-blue-900/20 border border-cyan-500 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-4 text-cyan-300">üèõÔ∏è "Diplomatic Inversion" Structure</h3>
                                            <div className="bg-gray-900 rounded-xl p-5 font-mono text-pink-300 mb-4 text-lg">
                                                "Had-[Subject] [Past Participle], [Past Conditional 2nd form]."
                                            </div>
                                            <p className="text-gray-300 italic mb-4">
                                                Example: "Had China anticipated these economic setbacks, it would not have engaged such an ambitious expansionist policy, and its influence would have found itself considerably diminished."
                                            </p>
                                            <div className="text-sm text-gray-400">
                                                <span className="font-bold">Usage:</span> To express an unrealized hypothesis with absolute literary elegance.
                                            </div>
                                        </div>
                                    </div>

                                    {/* Final evaluation */}
                                    <div className="mt-8 p-8 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-green-300">üéì Final Maestro Evaluation</h3>
                                        <p className="text-gray-300 mb-6">
                                            Your final test to validate the title of <strong>"Maestro C2"</strong>: take these 5 simple ideas and fuse them into <strong>a single complex sentence of 4 lines</strong>, using at least:
                                        </p>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                            <div className="flex items-center gap-3 p-3 bg-gray-800 rounded-lg">
                                                <div className="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center font-bold">1</div>
                                                <span>An inversion (Had...)</span>
                                            </div>
                                            <div className="flex items-center gap-3 p-3 bg-gray-800 rounded-lg">
                                                <div className="w-8 h-8 rounded-full bg-pink-500 flex items-center justify-center font-bold">2</div>
                                                <span>An expletive ne</span>
                                            </div>
                                            <div className="flex items-center gap-3 p-3 bg-gray-800 rounded-lg">
                                                <div className="w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center font-bold">3</div>
                                                <span>A high-level connector</span>
                                            </div>
                                            <div className="flex items-center gap-3 p-3 bg-gray-800 rounded-lg">
                                                <div className="w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center font-bold">4</div>
                                                <span>Three Arsenal verbs</span>
                                            </div>
                                        </div>
                                        <div className="bg-gray-800 rounded-xl p-6">
                                            <textarea 
                                                className="w-full h-40 bg-gray-900 border border-gray-700 rounded-lg p-4 focus:border-green-500 focus:outline-none resize-none"
                                                placeholder="Write your maestro sentence here..."
                                            />
                                            <div className="mt-4 flex justify-end">
                                                <button className="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-gray-900 font-bold rounded-lg hover:opacity-90">
                                                    Submit for evaluation
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                                                        {/* ============ INTERACTIVE QUIZZES ============ */}
                            {activeSection === 'quiz' && (
                                <div className="space-y-6">
                                    <div>
                                        <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">üß† Interactive Quizzes</h1>
                                        <p className="text-xl text-gray-400">20 quizzes to test your C2 knowledge ‚Ä¢ Verbs, Connectors, Geopolitical themes</p>
                                    </div>

                                    {/* Global stats */}
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6 text-center hover:border-cyan-500 transition-all">
                                            <div className="text-4xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-2">{quizScores.verbs.score}%</div>
                                            <div className="text-sm text-gray-400 uppercase">Verbs Score</div>
                                            <div className="text-xs text-gray-500 mt-1">{quizScores.verbs.correct}/{quizScores.verbs.total} correct</div>
                                        </div>
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6 text-center hover:border-pink-500 transition-all">
                                            <div className="text-4xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-2">{quizScores.connectors.score}%</div>
                                            <div className="text-sm text-gray-400 uppercase">Connectors Score</div>
                                            <div className="text-xs text-gray-500 mt-1">{quizScores.connectors.correct}/{quizScores.connectors.total} correct</div>
                                        </div>
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6 text-center hover:border-purple-500 transition-all">
                                            <div className="text-4xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-2">{quizScores.themes.score}%</div>
                                            <div className="text-sm text-gray-400 uppercase">Themes Score</div>
                                            <div className="text-xs text-gray-500 mt-1">{quizScores.themes.correct}/{quizScores.themes.total} correct</div>
                                        </div>
                                    </div>

                                    {/* Filters */}
                                    <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6">
                                        <h3 className="text-xl font-bold mb-4 text-cyan-300">üéØ Quiz filters</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-bold mb-2 text-gray-400">Quiz type</label>
                                                <div className="flex flex-wrap gap-2">
                                                    {["all", "verbs", "connectors", "themes"].map(type => (
                                                        <button
                                                            key={type}
                                                            onClick={() => setQuizFilter(type)}
                                                            className={`px-4 py-2 rounded-lg transition-all ${
                                                                quizFilter === type
                                                                    ? type === "verbs" ? "bg-cyan-500 text-white" :
                                                                      type === "connectors" ? "bg-pink-500 text-white" :
                                                                      type === "themes" ? "bg-purple-500 text-white" :
                                                                      "bg-gray-700 text-white"
                                                                    : "bg-gray-700 hover:bg-gray-600 text-gray-300"
                                                            }`}
                                                        >
                                                            {type === "all" ? "All quizzes" :
                                                             type === "verbs" ? "Verbs" :
                                                             type === "connectors" ? "Connectors" : "Themes"}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-bold mb-2 text-gray-400">Difficulty</label>
                                                <div className="flex flex-wrap gap-2">
                                                    {["all", "easy", "medium", "hard"].map(diff => (
                                                        <button
                                                            key={diff}
                                                            onClick={() => setQuizDifficulty(diff)}
                                                            className={`px-4 py-2 rounded-lg transition-all ${
                                                                quizDifficulty === diff
                                                                    ? diff === "easy" ? "bg-green-500/20 border border-green-500" :
                                                                      diff === "medium" ? "bg-yellow-500/20 border border-yellow-500" :
                                                                      diff === "hard" ? "bg-red-500/20 border border-red-500" :
                                                                      "bg-gray-700 border border-gray-600"
                                                                    : "bg-gray-700 hover:bg-gray-600 border border-gray-700"
                                                            }`}
                                                        >
                                                            {diff === "all" ? "All difficulties" :
                                                             diff === "easy" ? "Easy" :
                                                             diff === "medium" ? "Medium" : "Hard"}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        </div>
                                        <div className="mt-4 flex justify-between items-center">
                                            <div className="text-sm text-gray-400">
                                                <span className="font-bold">{getFilteredQuizzes().length}</span> quizzes matching filters
                                            </div>
                                            <button
                                                onClick={resetAllQuizzes}
                                                className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600 text-sm"
                                            >
                                                üîÑ Reset all quizzes
                                            </button>
                                        </div>
                                    </div>

                                    {/* Quiz list */}
                                    <div className="space-y-6">
                                        {getFilteredQuizzes().map(quiz => {
                                            const userAnswer = quizAnswers[quiz.id];
                                            const result = quizResults[quiz.id];
                                            const verb = quiz.type === "verbs" ? verbsData.find(v => v.id === quiz.verbId) : null;
                                            const connector = quiz.type === "connectors" ? connectorsData.find(c => c.id === quiz.connectorId) : null;
                                            const theme = quiz.type === "themes" ? themesData.find(t => t.id === quiz.themeId) : null;
                                            
                                            return (
                                                <div key={quiz.id} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-cyan-500 transition-all">
                                                    <div className="mb-4">
                                                        <div className="flex flex-wrap items-center gap-3 mb-3">
                                                            <span className={`text-xs font-black px-2 py-1 rounded ${
                                                                quiz.type === "verbs" ? "bg-cyan-600" :
                                                                quiz.type === "connectors" ? "bg-pink-600" :
                                                                "bg-purple-600"
                                                            }`}>
                                                                {quiz.type === "verbs" ? "VERB" :
                                                                 quiz.type === "connectors" ? "CONNECTOR" : "THEME"}
                                                            </span>
                                                            <span className={`text-xs px-2 py-1 rounded ${
                                                                quiz.difficulty === "easy" ? "bg-green-500/20 text-green-400" :
                                                                quiz.difficulty === "medium" ? "bg-yellow-500/20 text-yellow-400" :
                                                                "bg-red-500/20 text-red-400"
                                                            }`}>
                                                                {quiz.difficulty === "easy" ? "Easy" :
                                                                 quiz.difficulty === "medium" ? "Medium" : "Hard"}
                                                            </span>
                                                            {verb && (
                                                                <span className="text-xs text-gray-400">
                                                                    Verb: <span className="text-cyan-400">{verb.b2}</span>
                                                                </span>
                                                            )}
                                                        </div>
                                                        
                                                        <h4 className="text-lg font-bold mb-4 text-gray-300">{quiz.question}</h4>
                                                        
                                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4">
                                                            {quiz.options.map((option, idx) => {
                                                                const isSelected = userAnswer === idx;
                                                                const isCorrectAnswer = idx === quiz.correct;
                                                                const showCorrect = result && isCorrectAnswer;
                                                                const showIncorrect = result && isSelected && !result.isCorrect;
                                                                
                                                                return (
                                                                    <button
                                                                        key={idx}
                                                                        onClick={() => {
                                                                            if (!result) {
                                                                                setQuizAnswers(prev => ({ ...prev, [quiz.id]: idx }));
                                                                            }
                                                                        }}
                                                                        className={`p-3 rounded-lg text-left transition-all ${
                                                                            isSelected
                                                                                ? result
                                                                                    ? result.isCorrect && isCorrectAnswer
                                                                                        ? 'bg-green-500/20 border border-green-500'
                                                                                        : 'bg-red-500/20 border border-red-500'
                                                                                    : 'bg-cyan-500/20 border border-cyan-500'
                                                                                : 'bg-gray-700 hover:bg-gray-600 border border-gray-700'
                                                                        } ${
                                                                            showCorrect ? 'border border-green-500' : ''
                                                                        }`}
                                                                        disabled={!!result}
                                                                    >
                                                                        <div className="flex items-center gap-3">
                                                                            <div className={`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${
                                                                                isSelected
                                                                                    ? result
                                                                                        ? result.isCorrect && isCorrectAnswer
                                                                                            ? 'bg-green-500 text-white'
                                                                                            : 'bg-red-500 text-white'
                                                                                        : 'bg-cyan-500 text-white'
                                                                                    : showCorrect
                                                                                        ? 'bg-green-500/30 text-green-400'
                                                                                        : 'bg-gray-600 text-gray-400'
                                                                            }`}>
                                                                                {showCorrect && '‚úì'}
                                                                                {showIncorrect && '‚úó'}
                                                                                {!result && String.fromCharCode(65 + idx)}
                                                                            </div>
                                                                            <span className={showCorrect ? 'text-green-400 font-bold' : ''}>
                                                                                {option}
                                                                            </span>
                                                                        </div>
                                                                    </button>
                                                                );
                                                            })}
                                                        </div>
                                                        
                                                        {!result && userAnswer !== undefined && (
                                                            <button
                                                                onClick={() => handleQuizSubmit(quiz.id, userAnswer)}
                                                                className="w-full py-3 bg-gradient-to-r from-cyan-500 to-pink-500 text-white font-bold rounded-lg hover:opacity-90 mb-4"
                                                            >
                                                                ‚úÖ Check my answer
                                                            </button>
                                                        )}
                                                        
                                                        {result && (
                                                            <div className={`mt-4 p-4 rounded-lg ${
                                                                result.isCorrect 
                                                                    ? 'bg-green-500/10 border border-green-500' 
                                                                    : 'bg-red-500/10 border border-red-500'
                                                            }`}>
                                                                <div className="flex items-center gap-3 mb-3">
                                                                    {result.isCorrect ? (
                                                                        <>
                                                                            <span className="text-2xl">üéâ</span>
                                                                            <div>
                                                                                <div className="text-lg font-bold text-green-400">Correct!</div>
                                                                                <div className="text-sm text-green-300">Good answer</div>
                                                                            </div>
                                                                        </>
                                                                    ) : (
                                                                        <>
                                                                            <span className="text-2xl">üí°</span>
                                                                            <div>
                                                                                <div className="text-lg font-bold text-red-400">Almost!</div>
                                                                                <div className="text-sm text-red-300">To review</div>
                                                                            </div>
                                                                        </>
                                                                    )}
                                                                </div>
                                                                <p className="text-gray-300 text-sm mb-2">{result.explanation}</p>
                                                                {!result.isCorrect && (
                                                                    <div className="mt-2 text-sm text-gray-400">
                                                                        Correct answer: <span className="text-green-400 font-bold">{result.correctAnswer}</span>
                                                                    </div>
                                                                )}
                                                            </div>
                                                        )}
                                                        
                                                        <div className="mt-4 flex justify-between items-center">
                                                            <div className="text-xs text-gray-500">
                                                                Quiz #{quiz.id} ‚Ä¢ {quiz.type}
                                                            </div>
                                                            <div className="flex gap-2">
                                                                {result && (
                                                                    <button
                                                                        onClick={() => resetQuiz(quiz.id)}
                                                                        className="px-3 py-1 bg-gray-700 rounded-lg hover:bg-gray-600 text-xs"
                                                                    >
                                                                        üîÑ Retry
                                                                    </button>
                                                                )}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>

                                    {/* Global progression */}
                                    <div className="bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-500 rounded-2xl p-8">
                                        <h3 className="text-2xl font-bold mb-4 text-purple-300">üìà Your global progression</h3>
                                        <div className="space-y-4">
                                            {Object.entries(quizScores).map(([type, stats]) => (
                                                <div key={type} className="bg-gray-800/50 rounded-xl p-4">
                                                    <div className="flex justify-between items-center mb-2">
                                                        <div className="font-bold capitalize">{type}</div>
                                                        <div className="text-lg font-bold">{stats.score}%</div>
                                                    </div>
                                                    <div className="w-full bg-gray-700 rounded-full h-2">
                                                        <div 
                                                            className={`h-2 rounded-full ${
                                                                type === "verbs" ? "bg-cyan-500" :
                                                                type === "connectors" ? "bg-pink-500" :
                                                                "bg-purple-500"
                                                            }`}
                                                            style={{ width: `${stats.score}%` }}
                                                        ></div>
                                                    </div>
                                                    <div className="text-xs text-gray-400 mt-2">
                                                        {stats.correct} correct answers out of {stats.total} attempts
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ EXAM PAGE ============ */}
                            {activeSection.startsWith('examen-') && (() => {
                                const examId = parseInt(activeSection.replace('examen-', ''));
                                const exam = examsData.find(e => e.id === examId);
                                
                                return exam ? (
                                    <div className="space-y-6">
                                        {/* Header */}
                                        <div>
                                            <button 
                                                onClick={() => setActiveSection('exams')}
                                                className="mb-6 px-4 py-2 bg-gray-800 rounded-lg hover:bg-gray-700 flex items-center gap-2"
                                            >
                                                ‚Üê Return to exams
                                            </button>
                                            <div className="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6">
                                                <div>
                                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">{exam.title}</h1>
                                                    <div className="flex flex-wrap items-center gap-4 text-xl text-gray-400">
                                                        <span className="flex items-center gap-2">
                                                            <span>‚è±Ô∏è</span>
                                                            <span>{exam.duration}</span>
                                                        </span>
                                                        <span className="hidden lg:block">‚Ä¢</span>
                                                        <span className="flex items-center gap-2">
                                                            <span>üìù</span>
                                                            <span>Open question</span>
                                                        </span>
                                                        <span className="hidden lg:block">‚Ä¢</span>
                                                        <span className="flex items-center gap-2">
                                                            <span>üéØ</span>
                                                            <span>{exam.level}</span>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div className="flex items-center gap-4">
                                                    <div className="text-3xl font-black bg-gradient-to-r from-cyan-500 to-pink-500 bg-clip-text text-transparent">
                                                        60:00
                                                    </div>
                                                    <button className="px-6 py-3 bg-red-500/20 border border-red-500 rounded-xl hover:bg-red-500/30">
                                                        Suspend exam
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* Subject and instructions */}
                                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                            <div className="lg:col-span-2">
                                                <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                                    <h2 className="text-3xl font-bold mb-6 text-cyan-400">Exam Subject</h2>
                                                    <p className="text-gray-200 text-xl leading-relaxed">
                                                        {exam.subject}
                                                    </p>
                                                </div>
                                                
                                                <div className="mt-6 bg-gradient-to-br from-gray-800 to-gray-900 border border-cyan-500 rounded-2xl p-8">
                                                    <h2 className="text-2xl font-bold mb-6 text-cyan-300">Your answer</h2>
                                                    <textarea 
                                                        className="w-full h-96 bg-gray-900 border border-gray-700 rounded-xl p-6 focus:border-cyan-500 focus:outline-none resize-none text-lg"
                                                        placeholder="Write your C2 analysis here... (minimum 300 words)"
                                                    />
                                                    <div className="mt-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4">
                                                        <div className="text-sm text-gray-400">
                                                            <span className="font-bold text-cyan-400">üéØ Advice:</span> {exam.instructions}
                                                        </div>
                                                        <button className="px-8 py-3 bg-gradient-to-r from-green-500 to-cyan-500 text-white font-bold rounded-xl hover:opacity-90 text-lg">
                                                            ‚úÖ Submit exam
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            {/* Sidebar with tools */}
                                            <div className="space-y-6">
                                                <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold mb-4 text-pink-300">üìä Evaluation criteria</h3>
                                                    <div className="space-y-3">
                                                        {exam.criteria.map((criterion, i) => (
                                                            <div key={i} className="p-3 bg-gray-900 rounded-lg">
                                                                <div className="text-gray-300">{criterion}</div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                                
                                                <div className="bg-gray-800 border border-gray-700 rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold mb-4 text-yellow-300">üõ†Ô∏è Available tools</h3>
                                                    <div className="space-y-3">
                                                        <button onClick={() => setActiveSection('arsenal')} className="w-full p-3 bg-gray-900 rounded-lg hover:bg-gray-700 text-left flex items-center gap-3">
                                                            <span>‚ö°</span>
                                                            <div>
                                                                <div className="font-bold">Verbs Arsenal</div>
                                                                <div className="text-xs text-gray-400">Quick access</div>
                                                            </div>
                                                        </button>
                                                        <button onClick={() => setActiveSection('connectors')} className="w-full p-3 bg-gray-900 rounded-lg hover:bg-gray-700 text-left flex items-center gap-3">
                                                            <span>üîó</span>
                                                            <div>
                                                                <div className="font-bold">C2 Connectors</div>
                                                                <div className="text-xs text-gray-400">Logical compass</div>
                                                            </div>
                                                        </button>
                                                        <button onClick={() => setActiveSection('codex')} className="w-full p-3 bg-gray-900 rounded-lg hover:bg-gray-700 text-left flex items-center gap-3">
                                                            <span>üìñ</span>
                                                            <div>
                                                                <div className="font-bold">Maestro Codex</div>
                                                                <div className="text-xs text-gray-400">Advanced rules</div>
                                                            </div>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                                <div className="bg-gradient-to-r from-purple-900/20 to-pink-900/20 border border-purple-500 rounded-2xl p-6">
                                                    <h3 className="text-xl font-bold mb-4 text-purple-300">üí° Exam strategy</h3>
                                                    <ul className="text-sm text-gray-300 space-y-2">
                                                        <li className="flex items-start gap-2">
                                                            <span className="text-purple-400">‚Ä¢</span>
                                                            <span>Read the subject 2 times before starting</span>
                                                        </li>
                                                        <li className="flex items-start gap-2">
                                                            <span className="text-purple-400">‚Ä¢</span>
                                                            <span>Plan your answer in 5 min</span>
                                                        </li>
                                                        <li className="flex items-start gap-2">
                                                            <span className="text-purple-400">‚Ä¢</span>
                                                            <span>Check specific instructions</span>
                                                        </li>
                                                        <li className="flex items-start gap-2">
                                                            <span className="text-purple-400">‚Ä¢</span>
                                                            <span>Manage your time: 50 min writing, 10 min review</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ) : (
                                    <div className="text-center py-12">
                                        <div className="text-5xl mb-4">‚ö†Ô∏è</div>
                                        <h2 className="text-2xl font-bold mb-2">Exam not found</h2>
                                        <p className="text-gray-400 mb-6">The requested exam doesn't exist or has been deleted.</p>
                                        <button 
                                            onClick={() => setActiveSection('exams')}
                                            className="px-6 py-3 bg-cyan-500 rounded-lg hover:bg-cyan-600"
                                        >
                                            Return to exams
                                        </button>
                                    </div>
                                );
                            })()}

                            {/* ============ FLASH EXERCISES ============ */}
                            {activeSection === 'exercises' && (
                                <div className="space-y-6">
                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                        üí´ Flash Transmutation
                                    </h1>
                                    <p className="text-xl text-gray-400">Quick B2 ‚Üí C2 exercises with instant correction</p>

                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                        {exercisesData.map((exo) => (
                                            <div key={exo.id} className="bg-gray-800 border border-gray-700 rounded-2xl p-6 hover:border-cyan-500 transition-all">
                                                <div className="mb-4">
                                                    <div className="text-sm font-bold text-gray-500 mb-2">Exercise #{exo.id}</div>
                                                    <div className="bg-gray-900 rounded-xl p-5 mb-4">
                                                        <p className="text-gray-300 text-lg">{exo.b2}</p>
                                                    </div>
                                                    <div className="text-sm text-cyan-400 mb-3">
                                                        <span className="font-bold">üéØ Hint:</span> {exo.hint}
                                                    </div>
                                                    <textarea 
                                                        className="w-full h-32 bg-gray-900 border border-gray-700 rounded-lg p-4 focus:border-cyan-500 focus:outline-none resize-none"
                                                        placeholder="Type your C2 version here..."
                                                    />
                                                </div>
                                                <div className="flex justify-between items-center">
                                                    <button className="px-4 py-2 bg-gray-700 rounded-lg hover:bg-gray-600">
                                                        Check my answer
                                                    </button>
                                                    <button 
                                                        onClick={() => {
                                                            setInputText(exo.b2);
                                                            setActiveSection('lab');
                                                        }}
                                                        className="px-4 py-2 bg-cyan-500/20 border border-cyan-500 rounded-lg hover:bg-cyan-500/30"
                                                    >
                                                        Use the Lab
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="mt-8 p-8 bg-gradient-to-r from-blue-900/20 to-cyan-900/20 border border-blue-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-blue-300">üìà Exercises progression</h3>
                                        <div className="space-y-4">
                                            {exercisesData.map((exo, i) => (
                                                <div key={i} className="flex items-center justify-between p-4 bg-gray-800 rounded-xl">
                                                    <div className="flex items-center gap-4">
                                                        <div className="text-2xl">{i+1}</div>
                                                        <div>
                                                            <div className="font-bold">Exercise #{exo.id}</div>
                                                            <div className="text-sm text-gray-400">{exo.b2.substring(0, 50)}...</div>
                                                        </div>
                                                    </div>
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-sm text-gray-500">Status:</span>
                                                        <span className="px-3 py-1 bg-gray-700 rounded-full text-xs">To do</span>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* ============ ADVANCED STRUCTURES ============ */}
                            {activeSection === 'structures' && (
                                <div className="space-y-6">
                                    <h1 className="text-5xl font-black bg-gradient-to-r from-cyan-400 to-pink-500 bg-clip-text text-transparent mb-3">
                                        üèõÔ∏è Advanced C2+ Structures
                                    </h1>
                                    <p className="text-xl text-gray-400">Diplomatic formulas and literary constructions of excellence</p>

                                    <div className="space-y-8">
                                        {/* Structure 1 */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-4 text-cyan-400">Structure 1: The Nuanced Concession</h3>
                                            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Formula</h4>
                                                    <div className="bg-gray-900 rounded-xl p-5 font-mono text-lg">
                                                        ""If, on one hand, [X], it nevertheless remains that [Y]."
                                                    </div>
                                                </div>
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Variants</h4>
                                                    <div className="space-y-3">
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-pink-400 font-mono">"Although [X], it must be acknowledged that [Y]."</div>
                                                        </div>
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-pink-400 font-mono">"Notwithstanding [X], it appears that [Y]."</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-6 border border-cyan-500">
                                                <h4 className="text-lg font-bold mb-3 text-cyan-300">Geopolitical examples</h4>
                                                <div className="space-y-4">
                                                    <p className="text-gray-300 italic">
                                                        "If, on one hand, China displays impressive economic growth, it nevertheless remains that it must stem major structural imbalances, notably in the real estate sector."
                                                    </p>
                                                    <p className="text-gray-300 italic">
                                                        "Although Russia has managed to elude the most severe sanctions, it must be acknowledged that its pivot toward Asia exposes it to a risk of vassalization facing Beijing."
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Structure 2 */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-4 text-pink-400">Structure 2: The Literary Hypothesis</h3>
                                            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Basic formula</h4>
                                                    <div className="bg-gray-900 rounded-xl p-5 font-mono text-lg">
                                                        "Had-[Subject] [PP], [Past Conditional 2nd form]."
                                                    </div>
                                                </div>
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Complex variants</h4>
                                                    <div className="space-y-3">
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-cyan-400 font-mono">"In the event that [X], [Future Anterior of Conjecture]."</div>
                                                        </div>
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-cyan-400 font-mono">"Assuming that [Subjunctive], [Conditional]."</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-6 border border-pink-500">
                                                <h4 className="text-lg font-bold mb-3 text-pink-300">Diplomatic examples</h4>
                                                <div className="space-y-4">
                                                    <p className="text-gray-300 italic">
                                                        "Had the European Union anticipated the energy crisis, it would not have contracted such a glaring dependence on Russian gas, and its strategic sovereignty would have been preserved."
                                                    </p>
                                                    <p className="text-gray-300 italic">
                                                        "In the event that BRICS succeed in instituting an alternative financial architecture, the dollar's monopoly would be irremediably shaken."
                                                    </p>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Structure 3 */}
                                        <div className="bg-gray-800 border border-gray-700 rounded-2xl p-8">
                                            <h3 className="text-2xl font-bold mb-4 text-purple-400">Structure 3: The Strategic Projection</h3>
                                            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Formula</h4>
                                                    <div className="bg-gray-900 rounded-xl p-5 font-mono text-lg">
                                                        "It is to be expected that [Simple Future], [Gerund of consequence]."
                                                    </div>
                                                </div>
                                                <div>
                                                    <h4 className="text-lg font-bold mb-3 text-gray-300">Variants</h4>
                                                    <div className="space-y-3">
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-yellow-400 font-mono">"Everything suggests that [Future], [Present Participle]."</div>
                                                        </div>
                                                        <div className="p-3 bg-gray-900 rounded-lg">
                                                            <div className="text-yellow-400 font-mono">"One can anticipate that [Future], [Infinitive of purpose]."</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="bg-gradient-to-r from-gray-900 to-gray-800 rounded-xl p-6 border border-purple-500">
                                                <h4 className="text-lg font-bold mb-3 text-purple-300">Prospective examples</h4>
                                                <div className="space-y-4">
                                                    <p className="text-gray-300 italic">
                                                        "It is to be expected that artificial intelligence will durably transfigure the battlefield, thus redefining the ethical and strategic parameters of modern conflictuality."
                                                    </p>
                                                    <p className="text-gray-300 italic">
                                                        "Everything suggests that the race for critical metals will intensify in the coming decade, thereby increasing geopolitical tensions around mining resources."
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="mt-8 p-8 bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500 rounded-2xl">
                                        <h3 className="text-2xl font-bold mb-4 text-yellow-300">üéØ Structure training</h3>
                                        <div className="space-y-4">
                                            <div className="bg-gray-800 rounded-xl p-6">
                                                <h4 className="text-lg font-bold mb-3 text-gray-300">Training subject</h4>
                                                <p className="text-gray-400 mb-4">
                                                    "Energy transition in Morocco: mere ecological necessity or lever of geopolitical power?"
                                                </p>
                                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                    <button className="p-4 bg-gray-700 rounded-lg hover:bg-gray-600">
                                                        Use Structure 1
                                                    </button>
                                                    <button className="p-4 bg-gray-700 rounded-lg hover:bg-gray-600">
                                                        Use Structure 2
                                                    </button>
                                                    <button className="p-4 bg-gray-700 rounded-lg hover:bg-gray-600">
                                                        Use Structure 3
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<MaestroC2Ultimate />, document.getElementById('root'));
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>